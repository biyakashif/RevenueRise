import{u as z,r as x,c as B,f as U,p as J,w as V,e,b as I,a as d,k as u,i as c,m as g,x as C,o as n,t as a,T as S,g as T,d as s,F as $,j as Q,y as R,n as G}from"./app-DNboHIQE.js";import{_ as H}from"./AdminLayout-AN5kJ0Dn.js";import{_ as K}from"./_plugin-vue_export-helper-DlAUqK2U.js";const W={class:"bg-gradient-to-br from-cyan-400/20 via-blue-500/15 to-indigo-600/20 backdrop-blur-xl p-4 rounded-2xl shadow-2xl border border-cyan-300/30 h-full overflow-y-auto"},X={class:"bg-gradient-to-r from-white/40 via-white/30 to-white/20 backdrop-blur-sm p-4 rounded-xl shadow-lg border border-white/30 mb-6"},Y={class:"flex flex-col sm:flex-row sm:items-end sm:justify-between gap-4"},Z={class:"flex-1 space-y-4"},ee={class:"flex flex-col sm:flex-row gap-3"},te={key:0,class:"mb-6 p-4 rounded-xl bg-green-100/80 border border-green-200 text-green-700 text-sm flex items-center gap-2 backdrop-blur-sm"},se={key:1,class:"mb-6 p-4 rounded-xl bg-red-100/80 border border-red-200 text-red-700 text-sm flex items-center gap-2 backdrop-blur-sm"},oe={key:0,class:"text-red-500 text-xs mt-1"},re={key:0,class:"text-red-500 text-xs mt-1"},le={key:0,class:"text-red-500 text-xs mt-1"},ie={key:0,class:"text-red-500 text-xs mt-1"},ne={key:0,class:"text-red-500 text-xs mt-1"},ae={key:0,class:"text-red-500 text-xs mt-1"},de={class:"md:col-span-2"},ue={key:0,class:"text-red-500 text-xs mt-1"},pe={class:"md:col-span-2 flex justify-end gap-3"},ce=["disabled"],me={class:"flex justify-end gap-3"},fe={class:"bg-gradient-to-r from-white/40 via-white/30 to-white/20 backdrop-blur-sm rounded-xl shadow-lg overflow-hidden border border-white/30 mt-6"},ge={class:"p-4"},xe={class:"bg-white/20 backdrop-blur-sm rounded-xl shadow-lg overflow-hidden border border-white/30"},be={class:"overflow-x-auto"},ye={class:"w-full"},ve={class:"p-4 text-sm text-slate-800 font-medium"},_e={class:"p-4"},he=["src","onClick"],we={class:"p-3 text-sm text-gray-700"},ke={class:"p-3 text-sm text-gray-700"},Pe={class:"p-3 text-xs text-gray-600 max-w-xs truncate"},Ve={class:"p-3 text-sm text-gray-700"},Ie={class:"p-3 text-sm text-gray-700"},Ce={class:"p-3 text-sm text-gray-700"},Se={class:"p-3 text-sm text-gray-700"},Te={class:"p-3 flex gap-2"},$e=["onClick"],Ue=["onClick"],De={class:"p-3"},Fe={key:0,class:"text-red-500 text-xs mt-1"},Le={class:"p-3"},Oe={key:0,class:"text-red-500 text-xs mt-1"},je={class:"p-3"},Me={key:0,class:"text-red-500 text-xs mt-1"},Ne={class:"p-3"},Ee={key:0,class:"text-red-500 text-xs mt-1"},qe={class:"p-3"},Ae={key:0,class:"text-red-500 text-xs mt-1"},ze={class:"p-3"},Be={key:0,class:"text-red-500 text-xs mt-1"},Je={class:"p-3"},Qe={key:0,class:"text-red-500 text-xs mt-1"},Re={class:"p-3 flex gap-2"},Ge=["onClick"],He=["src"],Ke={__name:"Products",setup(We){const b=z(),v=x(""),h=x(""),D=B(()=>{let l=b.props.products;return v.value&&(l=l.filter(t=>t.product_id.toString().includes(v.value))),h.value&&(l=l.filter(t=>t.type===h.value)),l}),i=U({title:"",description:"",type:"VIP1",purchase_price:"",selling_price:"",commission_percentage:"",image:null,_token:b.props.csrf_token}),m=x(""),f=x(""),_=x(!1),y=x(!1),w=x(null);function F(l){i.image=l.target.files[0]}function L(){m.value="",f.value="",i._token=b.props.csrf_token,i.post(route("admin.products.store"),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{m.value="✅ Product uploaded successfully!",setTimeout(()=>m.value="",3e3),i.reset(),i.type="VIP1",i._token=b.props.csrf_token,v.value="",_.value=!1},onError:l=>{var t;if(l&&((t=l.message)!=null&&t.includes("419")||l.status===419)){window.location.reload();return}f.value="❌ Failed to upload product: "+JSON.stringify(l),setTimeout(()=>f.value="",5e3)}})}function O(l){m.value="",f.value="",w.value=l,y.value=!0}function j(){G.delete(route("admin.products.destroy",w.value),{preserveScroll:!0,data:{_token:b.props.csrf_token},onSuccess:()=>{m.value="🗑️ Product deleted successfully!",setTimeout(()=>m.value="",3e3),y.value=!1,w.value=null},onError:l=>{var t;if(l&&((t=l.message)!=null&&t.includes("419")||l.status===419)){window.location.reload();return}f.value="❌ Failed to delete product: "+JSON.stringify(l),setTimeout(()=>f.value="",5e3),y.value=!1,w.value=null}})}const k=x(null),r=U({title:"",description:"",type:"VIP1",purchase_price:"",selling_price:"",commission_percentage:"",image:null,_token:b.props.csrf_token});function M(l){k.value=l.id,r.title=l.title,r.description=l.description,r.type=l.type,r.purchase_price=l.purchase_price,r.selling_price=l.selling_price,r.commission_percentage=l.commission_percentage,r.image=null}function N(l){r.image=l.target.files[0]}function E(l){m.value="",f.value="",r._token=b.props.csrf_token,r.post(route("admin.products.update",l),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{m.value="✏️ Product updated successfully!",setTimeout(()=>m.value="",3e3),k.value=null},onError:t=>{var o;if(t&&((o=t.message)!=null&&o.includes("419")||t.status===419)){window.location.reload();return}f.value="❌ Failed to update product: "+JSON.stringify(t),setTimeout(()=>f.value="",5e3)}})}const P=x(null);function q(l){P.value=l}function A(){P.value=null}return(l,t)=>(n(),J(H,null,{default:V(()=>[e("div",W,[t[38]||(t[38]=e("h1",{class:"text-lg font-bold text-slate-800 drop-shadow-sm mb-4"},"Product Management",-1)),e("div",X,[e("div",Y,[e("div",Z,[t[23]||(t[23]=e("h2",{class:"text-base font-medium text-slate-800 drop-shadow-sm"},"Search Products",-1)),e("div",ee,[c(e("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>v.value=o),type:"text",placeholder:"Search by Product ID...",class:"flex-1 h-12 rounded-xl bg-white/50 border-0 focus:ring-2 focus:ring-cyan-400 text-slate-900 px-4 placeholder-slate-400 backdrop-blur-sm shadow-lg"},null,512),[[g,v.value]]),c(e("select",{"onUpdate:modelValue":t[1]||(t[1]=o=>h.value=o),class:"flex-1 h-12 rounded-xl bg-white/50 border-0 focus:ring-2 focus:ring-cyan-400 text-slate-900 px-4 backdrop-blur-sm shadow-lg"},[...t[22]||(t[22]=[e("option",{value:""},"All Types",-1),e("option",{value:"VIP1"},"VIP1",-1),e("option",{value:"VIP2"},"VIP2",-1),e("option",{value:"VIP3"},"VIP3",-1),e("option",{value:"VIP4"},"VIP4",-1),e("option",{value:"VIP5"},"VIP5",-1),e("option",{value:"VIP6"},"VIP6",-1),e("option",{value:"VIP7"},"VIP7",-1),e("option",{value:"Lucky Order"},"Lucky Order",-1)])],512),[[C,h.value]])])]),e("button",{onClick:t[2]||(t[2]=o=>_.value=!0),class:"px-4 py-2 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white rounded-lg text-sm font-medium transition-all duration-300 transform hover:scale-[1.02] shadow-lg hover:shadow-xl"}," Add New Product ")])]),m.value?(n(),d("div",te,[e("span",null,a(m.value),1)])):u("",!0),f.value?(n(),d("div",se,[e("span",null,a(f.value),1)])):u("",!0),I(S,{name:"modal"},{default:V(()=>[_.value?(n(),d("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",onClick:t[11]||(t[11]=o=>_.value=!1)},[e("div",{class:"bg-white rounded-lg shadow-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",onClick:t[10]||(t[10]=T(()=>{},["stop"]))},[t[32]||(t[32]=e("h2",{class:"text-xl font-semibold text-gray-900 mb-6"},"Add New Product",-1)),e("form",{onSubmit:T(L,["prevent"]),class:"grid grid-cols-1 md:grid-cols-2 gap-4"},[e("div",null,[t[24]||(t[24]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Title",-1)),c(e("input",{"onUpdate:modelValue":t[3]||(t[3]=o=>s(i).title=o),type:"text",class:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition",required:""},null,512),[[g,s(i).title]]),s(i).errors.title?(n(),d("span",oe,a(s(i).errors.title),1)):u("",!0)]),e("div",null,[t[26]||(t[26]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Type",-1)),c(e("select",{"onUpdate:modelValue":t[4]||(t[4]=o=>s(i).type=o),class:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition",required:""},[...t[25]||(t[25]=[e("option",{value:"VIP1"},"VIP1",-1),e("option",{value:"VIP2"},"VIP2",-1),e("option",{value:"VIP3"},"VIP3",-1),e("option",{value:"VIP4"},"VIP4",-1),e("option",{value:"VIP5"},"VIP5",-1),e("option",{value:"VIP6"},"VIP6",-1),e("option",{value:"VIP7"},"VIP7",-1),e("option",{value:"Lucky Order"},"Lucky Order",-1)])],512),[[C,s(i).type]]),s(i).errors.type?(n(),d("span",re,a(s(i).errors.type),1)):u("",!0)]),e("div",null,[t[27]||(t[27]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Purchase Price",-1)),c(e("input",{"onUpdate:modelValue":t[5]||(t[5]=o=>s(i).purchase_price=o),type:"number",step:"0.01",class:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition",required:""},null,512),[[g,s(i).purchase_price]]),s(i).errors.purchase_price?(n(),d("span",le,a(s(i).errors.purchase_price),1)):u("",!0)]),e("div",null,[t[28]||(t[28]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Selling Price",-1)),c(e("input",{"onUpdate:modelValue":t[6]||(t[6]=o=>s(i).selling_price=o),type:"number",step:"0.01",class:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition",required:""},null,512),[[g,s(i).selling_price]]),s(i).errors.selling_price?(n(),d("span",ie,a(s(i).errors.selling_price),1)):u("",!0)]),e("div",null,[t[29]||(t[29]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Commission Percentage (%)",-1)),c(e("input",{"onUpdate:modelValue":t[7]||(t[7]=o=>s(i).commission_percentage=o),type:"number",step:"0.01",max:"100",class:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition",required:""},null,512),[[g,s(i).commission_percentage]]),s(i).errors.commission_percentage?(n(),d("span",ne,a(s(i).errors.commission_percentage),1)):u("",!0)]),e("div",null,[t[30]||(t[30]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Product Image",-1)),e("input",{type:"file",onChange:F,accept:"image/*",class:"w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:bg-purple-50 file:text-purple-700 file:hover:bg-purple-100",required:""},null,32),s(i).errors.image?(n(),d("span",ae,a(s(i).errors.image),1)):u("",!0)]),e("div",de,[t[31]||(t[31]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Description",-1)),c(e("textarea",{"onUpdate:modelValue":t[8]||(t[8]=o=>s(i).description=o),class:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition",rows:"4"},null,512),[[g,s(i).description]]),s(i).errors.description?(n(),d("span",ue,a(s(i).errors.description),1)):u("",!0)]),e("div",pe,[e("button",{type:"button",onClick:t[9]||(t[9]=o=>_.value=!1),class:"px-4 py-2 bg-gray-200 text-gray-700 rounded-md text-sm font-medium hover:bg-gray-300 focus:ring-2 focus:ring-gray-400 focus:ring-offset-2 transition"}," Cancel "),e("button",{type:"submit",disabled:s(i).processing,class:"px-4 py-2 bg-purple-600 text-white rounded-md text-sm font-medium hover:bg-purple-700 focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 disabled:opacity-50 transition"}," Add Product ",8,ce)])],32)])])):u("",!0)]),_:1}),I(S,{name:"modal"},{default:V(()=>[y.value?(n(),d("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",onClick:t[14]||(t[14]=o=>y.value=!1)},[e("div",{class:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md",onClick:t[13]||(t[13]=T(()=>{},["stop"]))},[t[33]||(t[33]=e("h2",{class:"text-xl font-semibold text-gray-900 mb-4"},"Confirm Deletion",-1)),t[34]||(t[34]=e("p",{class:"text-sm text-gray-600 mb-6"},"Are you sure you want to delete this product? This action cannot be undone.",-1)),e("div",me,[e("button",{onClick:t[12]||(t[12]=o=>y.value=!1),class:"px-4 py-2 bg-gray-200 text-gray-700 rounded-md text-sm font-medium hover:bg-gray-300 focus:ring-2 focus:ring-gray-400 focus:ring-offset-2 transition"}," Cancel "),e("button",{onClick:j,class:"px-4 py-2 bg-red-600 text-white rounded-md text-sm font-medium hover:bg-red-700 focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition"}," Delete ")])])])):u("",!0)]),_:1}),e("div",fe,[e("div",ge,[t[37]||(t[37]=e("h2",{class:"text-base font-medium text-slate-800 drop-shadow-sm mb-4"},"Product List",-1)),e("div",xe,[e("div",be,[e("table",ye,[t[36]||(t[36]=e("thead",null,[e("tr",{class:"bg-white/20 text-slate-700 text-sm font-medium"},[e("th",{class:"p-4 text-left"},"Product ID"),e("th",{class:"p-4 text-left"},"Image"),e("th",{class:"p-4 text-left"},"Title"),e("th",{class:"p-4 text-left"},"Type"),e("th",{class:"p-4 text-left"},"Description"),e("th",{class:"p-4 text-left"},"Purchase Price"),e("th",{class:"p-4 text-left"},"Selling Price"),e("th",{class:"p-4 text-left"},"Commission Reward"),e("th",{class:"p-4 text-left"},"Commission %"),e("th",{class:"p-4 text-left"},"Actions")])],-1)),e("tbody",null,[(n(!0),d($,null,Q(D.value,o=>(n(),d("tr",{key:o.id,class:"border-t border-white/20 hover:bg-white/10 transition-all duration-200"},[e("td",ve,a(o.product_id),1),e("td",_e,[e("img",{src:`/storage/${o.image_path}`,class:"w-10 h-10 object-cover rounded cursor-pointer hover:scale-105 transition",onClick:p=>q(`/storage/${o.image_path}`)},null,8,he)]),k.value!==o.id?(n(),d($,{key:0},[e("td",we,a(o.title),1),e("td",ke,[e("span",{class:R(["inline-block px-2 py-1 rounded text-xs",{"bg-purple-100 text-purple-700":o.type==="VIP1"||o.type==="VIP2"||o.type==="VIP3"||o.type==="VIP4"||o.type==="VIP5"||o.type==="VIP6"||o.type==="VIP7","bg-yellow-100 text-yellow-700":o.type==="Lucky Order"}])},a(o.type),3)]),e("td",Pe,a(o.description),1),e("td",Ve,"$"+a(o.purchase_price),1),e("td",Ie,"$"+a(o.selling_price),1),e("td",Ce,"$"+a(o.commission_reward),1),e("td",Se,a(o.commission_percentage)+"%",1),e("td",Te,[e("button",{onClick:p=>M(o),class:"px-3 py-1 bg-blue-600 text-white rounded-md text-xs font-medium hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition"}," Edit ",8,$e),e("button",{onClick:p=>O(o.id),class:"px-3 py-1 bg-red-600 text-white rounded-md text-xs font-medium hover:bg-red-700 focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition"}," Delete ",8,Ue)])],64)):(n(),d($,{key:1},[e("td",De,[c(e("input",{"onUpdate:modelValue":t[15]||(t[15]=p=>s(r).title=p),class:"w-full border border-gray-300 rounded-md px-2 py-1 text-sm focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition"},null,512),[[g,s(r).title]]),s(r).errors.title?(n(),d("span",Fe,a(s(r).errors.title),1)):u("",!0)]),e("td",Le,[c(e("select",{"onUpdate:modelValue":t[16]||(t[16]=p=>s(r).type=p),class:"w-full border border-gray-300 rounded-md px-2 py-1 text-sm focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition"},[...t[35]||(t[35]=[e("option",{value:"VIP1"},"VIP1",-1),e("option",{value:"VIP2"},"VIP2",-1),e("option",{value:"VIP3"},"VIP3",-1),e("option",{value:"VIP4"},"VIP4",-1),e("option",{value:"VIP5"},"VIP5",-1),e("option",{value:"VIP6"},"VIP6",-1),e("option",{value:"VIP7"},"VIP7",-1),e("option",{value:"Lucky Order"},"Lucky Order",-1)])],512),[[C,s(r).type]]),s(r).errors.type?(n(),d("span",Oe,a(s(r).errors.type),1)):u("",!0)]),e("td",je,[c(e("textarea",{"onUpdate:modelValue":t[17]||(t[17]=p=>s(r).description=p),class:"w-full border border-gray-300 rounded-md px-2 py-1 text-xs focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition",rows:"2"},null,512),[[g,s(r).description]]),s(r).errors.description?(n(),d("span",Me,a(s(r).errors.description),1)):u("",!0)]),e("td",Ne,[c(e("input",{"onUpdate:modelValue":t[18]||(t[18]=p=>s(r).purchase_price=p),type:"number",step:"0.01",class:"w-full border border-gray-300 rounded-md px-2 py-1 text-sm focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition"},null,512),[[g,s(r).purchase_price]]),s(r).errors.purchase_price?(n(),d("span",Ee,a(s(r).errors.purchase_price),1)):u("",!0)]),e("td",qe,[c(e("input",{"onUpdate:modelValue":t[19]||(t[19]=p=>s(r).selling_price=p),type:"number",step:"0.01",class:"w-full border border-gray-300 rounded-md px-2 py-1 text-sm focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition"},null,512),[[g,s(r).selling_price]]),s(r).errors.selling_price?(n(),d("span",Ae,a(s(r).errors.selling_price),1)):u("",!0)]),e("td",ze,[c(e("input",{"onUpdate:modelValue":t[20]||(t[20]=p=>s(r).commission_percentage=p),type:"number",step:"0.01",max:"100",class:"w-full border border-gray-300 rounded-md px-2 py-1 text-sm focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition"},null,512),[[g,s(r).commission_percentage]]),s(r).errors.commission_percentage?(n(),d("span",Be,a(s(r).errors.commission_percentage),1)):u("",!0)]),e("td",Je,[e("input",{type:"file",onChange:N,accept:"image/*",class:"text-sm text-gray-500 file:mr-4 file:py-1 file:px-3 file:rounded-md file:border-0 file:bg-purple-50 file:text-purple-700 file:hover:bg-purple-100"},null,32),s(r).errors.image?(n(),d("span",Qe,a(s(r).errors.image),1)):u("",!0)]),e("td",Re,[e("button",{onClick:p=>E(o.id),class:"px-3 py-1 bg-green-600 text-white rounded-md text-xs font-medium hover:bg-green-700 focus:ring-2 focus:ring-green-500 focus:ring-offset-2 transition"}," Save ",8,Ge),e("button",{onClick:t[21]||(t[21]=p=>k.value=null),class:"px-3 py-1 bg-gray-200 text-gray-700 rounded-md text-xs font-medium hover:bg-gray-300 focus:ring-2 focus:ring-gray-400 focus:ring-offset-2 transition"}," Cancel ")])],64))]))),128))])])])])])])]),I(S,{name:"modal"},{default:V(()=>[P.value?(n(),d("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50",onClick:A},[e("img",{src:P.value,class:"max-h-[90vh] max-w-[90vw] rounded-lg shadow-lg"},null,8,He)])):u("",!0)]),_:1})]),_:1}))}},et=K(Ke,[["__scopeId","data-v-a0ac23e4"]]);export{et as default};
