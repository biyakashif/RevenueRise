import{r as l,q as g,s as w,a as d,b,d as y,h as k,w as C,e as t,k as U,i as N,m as $,o as c,t as r,F as f,j as D,n as F}from"./app-CdvAI5iq.js";import{_ as I}from"./AdminLayout-DZFzOaKL.js";import{_ as P}from"./_plugin-vue_export-helper-DlAUqK2U.js";const B={class:"bg-gradient-to-br from-cyan-400/20 via-blue-500/15 to-indigo-600/20 backdrop-blur-xl p-4 rounded-2xl shadow-2xl border border-cyan-300/30 h-full overflow-y-auto"},M={class:"mb-6"},S={key:0,class:"mb-6 p-4 rounded-xl bg-red-100/80 border border-red-200 text-red-700 text-sm flex items-center gap-2 backdrop-blur-sm"},T={class:"bg-gradient-to-r from-white/40 via-white/30 to-white/20 backdrop-blur-sm rounded-xl shadow-lg overflow-hidden border border-white/30"},V={class:"overflow-x-auto"},j={class:"w-full"},A={class:"p-4 text-sm text-slate-800 font-medium"},L={class:"p-4 text-sm text-slate-700"},z={class:"p-4 text-sm text-slate-700 font-semibold"},E={class:"p-4 text-sm text-slate-700 font-semibold"},W={class:"p-4"},q=["onClick"],H={__name:"DepositClients",props:{initialUsers:{type:Array,default:()=>[]},initialPage:{type:Number,default:1},initialLastPage:{type:Number,default:1},search:{type:String,default:""}},setup(x){const n=x,p=l([...n.initialUsers]);l(n.initialPage),l(n.initialLastPage);const a=l(n.search),i=l("");let m=null;const u=async(o="")=>{try{const s=o?`/admin/deposit-clients?search=${encodeURIComponent(o)}`:"/admin/deposit-clients",e=await fetch(s,{headers:{Accept:"application/json"}});if(!e.ok)throw new Error(`HTTP error! Status: ${e.status}`);const h=await e.json();p.value=h.data||[],i.value=""}catch{i.value="Failed to fetch users. Please try again."}};g(()=>{u(a.value),m=setInterval(()=>u(a.value),5e3)}),w(()=>{clearInterval(m)});const _=()=>{u(a.value)},v=o=>{F.visit(`/admin/update-wallet?user_id=${o}`)};return(o,s)=>(c(),d(f,null,[b(y(k),{title:"Deposit Clients"}),b(I,null,{default:C(()=>[t("div",B,[s[2]||(s[2]=t("h1",{class:"text-lg font-bold text-slate-800 drop-shadow-sm mb-4"},"Deposit Clients",-1)),t("div",M,[N(t("input",{"onUpdate:modelValue":s[0]||(s[0]=e=>a.value=e),type:"text",placeholder:"Search by Mobile Number...",class:"w-full max-w-md h-12 rounded-xl bg-white/50 border-0 focus:ring-2 focus:ring-cyan-400 text-slate-900 px-4 placeholder-slate-400 backdrop-blur-sm shadow-lg",onInput:_},null,544),[[$,a.value]])]),i.value?(c(),d("div",S,r(i.value),1)):U("",!0),t("div",T,[t("div",V,[t("table",j,[s[1]||(s[1]=t("thead",null,[t("tr",{class:"bg-white/20 text-slate-700 text-sm font-medium"},[t("th",{class:"p-4 text-left"},"Name"),t("th",{class:"p-4 text-left"},"Mobile Number"),t("th",{class:"p-4 text-left"},"Balance"),t("th",{class:"p-4 text-left"},"Frozen Balance"),t("th",{class:"p-4 text-left"},"Action")])],-1)),t("tbody",null,[(c(!0),d(f,null,D(p.value,e=>(c(),d("tr",{key:e.id,class:"border-t border-white/20 hover:bg-white/10 transition-all duration-200"},[t("td",A,r(e.name),1),t("td",L,r(e.mobile_number),1),t("td",z,"$"+r((e.balance??0).toFixed(2)),1),t("td",E,"$"+r((e.frozen_balance??0).toFixed(2)),1),t("td",W,[t("button",{onClick:h=>v(e.id),class:"px-4 py-2 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white rounded-lg text-sm font-medium transition-all duration-300 transform hover:scale-[1.02] shadow-lg hover:shadow-xl"}," Update Wallet ",8,q)])]))),128))])])])])])]),_:1})],64))}},J=P(H,[["__scopeId","data-v-8d779258"]]);export{J as default};
