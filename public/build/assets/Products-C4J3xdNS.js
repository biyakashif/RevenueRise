import{u as z,r as g,c as B,f as U,p as J,w as k,e,b as V,a,k as u,i as c,m,x as I,o as n,t as d,T as C,g as S,d as s,F as $,j as Q,y as R,n as G}from"./app-CdvAI5iq.js";import{_ as H}from"./AdminLayout-DZFzOaKL.js";import{_ as K}from"./_plugin-vue_export-helper-DlAUqK2U.js";const W={class:"bg-gradient-to-br from-cyan-400/20 via-blue-500/15 to-indigo-600/20 backdrop-blur-xl p-4 rounded-2xl shadow-2xl border border-cyan-300/30 h-full overflow-y-auto"},X={class:"bg-gradient-to-r from-white/40 via-white/30 to-white/20 backdrop-blur-sm p-4 rounded-xl shadow-lg border border-white/30 mb-6"},Y={class:"flex flex-col sm:flex-row sm:items-end sm:justify-between gap-4"},Z={class:"flex-1 space-y-4"},ee={class:"flex flex-col sm:flex-row gap-3"},te={key:0,class:"mb-6 p-4 rounded-xl bg-green-100/80 border border-green-200 text-green-700 text-sm flex items-center gap-2 backdrop-blur-sm"},se={key:1,class:"mb-6 p-4 rounded-xl bg-red-100/80 border border-red-200 text-red-700 text-sm flex items-center gap-2 backdrop-blur-sm"},re={key:0,class:"text-red-500 text-xs mt-1"},oe={key:0,class:"text-red-500 text-xs mt-1"},le={key:0,class:"text-red-500 text-xs mt-1"},ie={key:0,class:"text-red-500 text-xs mt-1"},ne={key:0,class:"text-red-500 text-xs mt-1"},de={key:0,class:"text-red-500 text-xs mt-1"},ae={class:"md:col-span-2"},ue={key:0,class:"text-red-500 text-xs mt-1"},pe={class:"md:col-span-2 flex justify-end gap-3"},ce=["disabled"],me={class:"flex justify-end gap-3"},ge={class:"bg-gradient-to-r from-white/40 via-white/30 to-white/20 backdrop-blur-sm rounded-xl shadow-lg overflow-hidden border border-white/30 mt-6"},fe={class:"p-4"},xe={class:"bg-white/20 backdrop-blur-sm rounded-xl shadow-lg overflow-hidden border border-white/30"},be={class:"overflow-x-auto"},ye={class:"w-full"},ve={class:"p-4 text-sm text-slate-800 font-medium"},he={class:"p-4"},_e=["src","onClick"],we={class:"p-3 text-sm text-gray-700"},Pe={class:"p-3 text-sm text-gray-700"},ke={class:"p-3 text-xs text-gray-600 max-w-xs truncate"},Ve={class:"p-3 text-sm text-gray-700"},Ie={class:"p-3 text-sm text-gray-700"},Ce={class:"p-3 text-sm text-gray-700"},Se={class:"p-3 text-sm text-gray-700"},$e={class:"p-3 flex gap-2"},Ue=["onClick"],De=["onClick"],Fe={class:"p-3"},Le={key:0,class:"text-red-500 text-xs mt-1"},Oe={class:"p-3"},Te={key:0,class:"text-red-500 text-xs mt-1"},je={class:"p-3"},Me={key:0,class:"text-red-500 text-xs mt-1"},Ne={class:"p-3"},Ee={key:0,class:"text-red-500 text-xs mt-1"},qe={class:"p-3"},Ae={key:0,class:"text-red-500 text-xs mt-1"},ze={class:"p-3"},Be={key:0,class:"text-red-500 text-xs mt-1"},Je={class:"p-3"},Qe={key:0,class:"text-red-500 text-xs mt-1"},Re={class:"p-3 flex gap-2"},Ge=["onClick"],He=["src"],Ke={__name:"Products",setup(We){const D=z(),y=g(""),h=g(""),F=B(()=>{let i=D.props.products;return y.value&&(i=i.filter(t=>t.product_id.toString().includes(y.value))),h.value&&(i=i.filter(t=>t.type===h.value)),i}),l=U({title:"",description:"",type:"VIP1",purchase_price:"",selling_price:"",commission_percentage:"",image:null}),f=g(""),x=g(""),v=g(!1),b=g(!1),_=g(null);function L(i){l.image=i.target.files[0]}function O(){f.value="",x.value="",l.post(route("admin.products.store"),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{f.value="✅ Product uploaded successfully!",l.reset(),l.type="VIP1",y.value="",v.value=!1},onError:i=>{x.value="❌ Failed to upload product: "+JSON.stringify(i)}})}function T(i){f.value="",x.value="",_.value=i,b.value=!0}function j(){G.delete(route("admin.products.destroy",_.value),{preserveScroll:!0,onSuccess:()=>{f.value="🗑️ Product deleted successfully!",b.value=!1,_.value=null},onError:i=>{x.value="❌ Failed to delete product: "+JSON.stringify(i),b.value=!1,_.value=null}})}const w=g(null),o=U({title:"",description:"",type:"VIP1",purchase_price:"",selling_price:"",commission_percentage:"",image:null});function M(i){w.value=i.id,o.title=i.title,o.description=i.description,o.type=i.type,o.purchase_price=i.purchase_price,o.selling_price=i.selling_price,o.commission_percentage=i.commission_percentage,o.image=null}function N(i){o.image=i.target.files[0]}function E(i){f.value="",x.value="",o.post(route("admin.products.update",i),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{f.value="✏️ Product updated successfully!",w.value=null},onError:t=>{x.value="❌ Failed to update product: "+JSON.stringify(t)}})}const P=g(null);function q(i){P.value=i}function A(){P.value=null}return(i,t)=>(n(),J(H,null,{default:k(()=>[e("div",W,[t[38]||(t[38]=e("h1",{class:"text-lg font-bold text-slate-800 drop-shadow-sm mb-4"},"Product Management",-1)),e("div",X,[e("div",Y,[e("div",Z,[t[23]||(t[23]=e("h2",{class:"text-base font-medium text-slate-800 drop-shadow-sm"},"Search Products",-1)),e("div",ee,[c(e("input",{"onUpdate:modelValue":t[0]||(t[0]=r=>y.value=r),type:"text",placeholder:"Search by Product ID...",class:"flex-1 h-12 rounded-xl bg-white/50 border-0 focus:ring-2 focus:ring-cyan-400 text-slate-900 px-4 placeholder-slate-400 backdrop-blur-sm shadow-lg"},null,512),[[m,y.value]]),c(e("select",{"onUpdate:modelValue":t[1]||(t[1]=r=>h.value=r),class:"flex-1 h-12 rounded-xl bg-white/50 border-0 focus:ring-2 focus:ring-cyan-400 text-slate-900 px-4 backdrop-blur-sm shadow-lg"},[...t[22]||(t[22]=[e("option",{value:""},"All Types",-1),e("option",{value:"VIP1"},"VIP1",-1),e("option",{value:"VIP2"},"VIP2",-1),e("option",{value:"VIP3"},"VIP3",-1),e("option",{value:"VIP4"},"VIP4",-1),e("option",{value:"VIP5"},"VIP5",-1),e("option",{value:"VIP6"},"VIP6",-1),e("option",{value:"VIP7"},"VIP7",-1),e("option",{value:"Lucky Order"},"Lucky Order",-1)])],512),[[I,h.value]])])]),e("button",{onClick:t[2]||(t[2]=r=>v.value=!0),class:"px-4 py-2 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white rounded-lg text-sm font-medium transition-all duration-300 transform hover:scale-[1.02] shadow-lg hover:shadow-xl"}," Add New Product ")])]),f.value?(n(),a("div",te,[e("span",null,d(f.value),1)])):u("",!0),x.value?(n(),a("div",se,[e("span",null,d(x.value),1)])):u("",!0),V(C,{name:"modal"},{default:k(()=>[v.value?(n(),a("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",onClick:t[11]||(t[11]=r=>v.value=!1)},[e("div",{class:"bg-white rounded-lg shadow-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",onClick:t[10]||(t[10]=S(()=>{},["stop"]))},[t[32]||(t[32]=e("h2",{class:"text-xl font-semibold text-gray-900 mb-6"},"Add New Product",-1)),e("form",{onSubmit:S(O,["prevent"]),class:"grid grid-cols-1 md:grid-cols-2 gap-4"},[e("div",null,[t[24]||(t[24]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Title",-1)),c(e("input",{"onUpdate:modelValue":t[3]||(t[3]=r=>s(l).title=r),type:"text",class:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition",required:""},null,512),[[m,s(l).title]]),s(l).errors.title?(n(),a("span",re,d(s(l).errors.title),1)):u("",!0)]),e("div",null,[t[26]||(t[26]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Type",-1)),c(e("select",{"onUpdate:modelValue":t[4]||(t[4]=r=>s(l).type=r),class:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition",required:""},[...t[25]||(t[25]=[e("option",{value:"VIP1"},"VIP1",-1),e("option",{value:"VIP2"},"VIP2",-1),e("option",{value:"VIP3"},"VIP3",-1),e("option",{value:"VIP4"},"VIP4",-1),e("option",{value:"VIP5"},"VIP5",-1),e("option",{value:"VIP6"},"VIP6",-1),e("option",{value:"VIP7"},"VIP7",-1),e("option",{value:"Lucky Order"},"Lucky Order",-1)])],512),[[I,s(l).type]]),s(l).errors.type?(n(),a("span",oe,d(s(l).errors.type),1)):u("",!0)]),e("div",null,[t[27]||(t[27]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Purchase Price",-1)),c(e("input",{"onUpdate:modelValue":t[5]||(t[5]=r=>s(l).purchase_price=r),type:"number",step:"0.01",class:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition",required:""},null,512),[[m,s(l).purchase_price]]),s(l).errors.purchase_price?(n(),a("span",le,d(s(l).errors.purchase_price),1)):u("",!0)]),e("div",null,[t[28]||(t[28]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Selling Price",-1)),c(e("input",{"onUpdate:modelValue":t[6]||(t[6]=r=>s(l).selling_price=r),type:"number",step:"0.01",class:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition",required:""},null,512),[[m,s(l).selling_price]]),s(l).errors.selling_price?(n(),a("span",ie,d(s(l).errors.selling_price),1)):u("",!0)]),e("div",null,[t[29]||(t[29]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Commission Percentage (%)",-1)),c(e("input",{"onUpdate:modelValue":t[7]||(t[7]=r=>s(l).commission_percentage=r),type:"number",step:"0.01",max:"100",class:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition",required:""},null,512),[[m,s(l).commission_percentage]]),s(l).errors.commission_percentage?(n(),a("span",ne,d(s(l).errors.commission_percentage),1)):u("",!0)]),e("div",null,[t[30]||(t[30]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Product Image",-1)),e("input",{type:"file",onChange:L,accept:"image/*",class:"w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:bg-purple-50 file:text-purple-700 file:hover:bg-purple-100",required:""},null,32),s(l).errors.image?(n(),a("span",de,d(s(l).errors.image),1)):u("",!0)]),e("div",ae,[t[31]||(t[31]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Description",-1)),c(e("textarea",{"onUpdate:modelValue":t[8]||(t[8]=r=>s(l).description=r),class:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition",rows:"4"},null,512),[[m,s(l).description]]),s(l).errors.description?(n(),a("span",ue,d(s(l).errors.description),1)):u("",!0)]),e("div",pe,[e("button",{type:"button",onClick:t[9]||(t[9]=r=>v.value=!1),class:"px-4 py-2 bg-gray-200 text-gray-700 rounded-md text-sm font-medium hover:bg-gray-300 focus:ring-2 focus:ring-gray-400 focus:ring-offset-2 transition"}," Cancel "),e("button",{type:"submit",disabled:s(l).processing,class:"px-4 py-2 bg-purple-600 text-white rounded-md text-sm font-medium hover:bg-purple-700 focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 disabled:opacity-50 transition"}," Add Product ",8,ce)])],32)])])):u("",!0)]),_:1}),V(C,{name:"modal"},{default:k(()=>[b.value?(n(),a("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",onClick:t[14]||(t[14]=r=>b.value=!1)},[e("div",{class:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md",onClick:t[13]||(t[13]=S(()=>{},["stop"]))},[t[33]||(t[33]=e("h2",{class:"text-xl font-semibold text-gray-900 mb-4"},"Confirm Deletion",-1)),t[34]||(t[34]=e("p",{class:"text-sm text-gray-600 mb-6"},"Are you sure you want to delete this product? This action cannot be undone.",-1)),e("div",me,[e("button",{onClick:t[12]||(t[12]=r=>b.value=!1),class:"px-4 py-2 bg-gray-200 text-gray-700 rounded-md text-sm font-medium hover:bg-gray-300 focus:ring-2 focus:ring-gray-400 focus:ring-offset-2 transition"}," Cancel "),e("button",{onClick:j,class:"px-4 py-2 bg-red-600 text-white rounded-md text-sm font-medium hover:bg-red-700 focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition"}," Delete ")])])])):u("",!0)]),_:1}),e("div",ge,[e("div",fe,[t[37]||(t[37]=e("h2",{class:"text-base font-medium text-slate-800 drop-shadow-sm mb-4"},"Product List",-1)),e("div",xe,[e("div",be,[e("table",ye,[t[36]||(t[36]=e("thead",null,[e("tr",{class:"bg-white/20 text-slate-700 text-sm font-medium"},[e("th",{class:"p-4 text-left"},"Product ID"),e("th",{class:"p-4 text-left"},"Image"),e("th",{class:"p-4 text-left"},"Title"),e("th",{class:"p-4 text-left"},"Type"),e("th",{class:"p-4 text-left"},"Description"),e("th",{class:"p-4 text-left"},"Purchase Price"),e("th",{class:"p-4 text-left"},"Selling Price"),e("th",{class:"p-4 text-left"},"Commission Reward"),e("th",{class:"p-4 text-left"},"Commission %"),e("th",{class:"p-4 text-left"},"Actions")])],-1)),e("tbody",null,[(n(!0),a($,null,Q(F.value,r=>(n(),a("tr",{key:r.id,class:"border-t border-white/20 hover:bg-white/10 transition-all duration-200"},[e("td",ve,d(r.product_id),1),e("td",he,[e("img",{src:`/storage/${r.image_path}`,class:"w-10 h-10 object-cover rounded cursor-pointer hover:scale-105 transition",onClick:p=>q(`/storage/${r.image_path}`)},null,8,_e)]),w.value!==r.id?(n(),a($,{key:0},[e("td",we,d(r.title),1),e("td",Pe,[e("span",{class:R(["inline-block px-2 py-1 rounded text-xs",{"bg-purple-100 text-purple-700":r.type==="VIP1"||r.type==="VIP2"||r.type==="VIP3"||r.type==="VIP4"||r.type==="VIP5"||r.type==="VIP6"||r.type==="VIP7","bg-yellow-100 text-yellow-700":r.type==="Lucky Order"}])},d(r.type),3)]),e("td",ke,d(r.description),1),e("td",Ve,"$"+d(r.purchase_price),1),e("td",Ie,"$"+d(r.selling_price),1),e("td",Ce,"$"+d(r.commission_reward),1),e("td",Se,d(r.commission_percentage)+"%",1),e("td",$e,[e("button",{onClick:p=>M(r),class:"px-3 py-1 bg-blue-600 text-white rounded-md text-xs font-medium hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition"}," Edit ",8,Ue),e("button",{onClick:p=>T(r.id),class:"px-3 py-1 bg-red-600 text-white rounded-md text-xs font-medium hover:bg-red-700 focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition"}," Delete ",8,De)])],64)):(n(),a($,{key:1},[e("td",Fe,[c(e("input",{"onUpdate:modelValue":t[15]||(t[15]=p=>s(o).title=p),class:"w-full border border-gray-300 rounded-md px-2 py-1 text-sm focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition"},null,512),[[m,s(o).title]]),s(o).errors.title?(n(),a("span",Le,d(s(o).errors.title),1)):u("",!0)]),e("td",Oe,[c(e("select",{"onUpdate:modelValue":t[16]||(t[16]=p=>s(o).type=p),class:"w-full border border-gray-300 rounded-md px-2 py-1 text-sm focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition"},[...t[35]||(t[35]=[e("option",{value:"VIP1"},"VIP1",-1),e("option",{value:"VIP2"},"VIP2",-1),e("option",{value:"VIP3"},"VIP3",-1),e("option",{value:"VIP4"},"VIP4",-1),e("option",{value:"VIP5"},"VIP5",-1),e("option",{value:"VIP6"},"VIP6",-1),e("option",{value:"VIP7"},"VIP7",-1),e("option",{value:"Lucky Order"},"Lucky Order",-1)])],512),[[I,s(o).type]]),s(o).errors.type?(n(),a("span",Te,d(s(o).errors.type),1)):u("",!0)]),e("td",je,[c(e("textarea",{"onUpdate:modelValue":t[17]||(t[17]=p=>s(o).description=p),class:"w-full border border-gray-300 rounded-md px-2 py-1 text-xs focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition",rows:"2"},null,512),[[m,s(o).description]]),s(o).errors.description?(n(),a("span",Me,d(s(o).errors.description),1)):u("",!0)]),e("td",Ne,[c(e("input",{"onUpdate:modelValue":t[18]||(t[18]=p=>s(o).purchase_price=p),type:"number",step:"0.01",class:"w-full border border-gray-300 rounded-md px-2 py-1 text-sm focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition"},null,512),[[m,s(o).purchase_price]]),s(o).errors.purchase_price?(n(),a("span",Ee,d(s(o).errors.purchase_price),1)):u("",!0)]),e("td",qe,[c(e("input",{"onUpdate:modelValue":t[19]||(t[19]=p=>s(o).selling_price=p),type:"number",step:"0.01",class:"w-full border border-gray-300 rounded-md px-2 py-1 text-sm focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition"},null,512),[[m,s(o).selling_price]]),s(o).errors.selling_price?(n(),a("span",Ae,d(s(o).errors.selling_price),1)):u("",!0)]),e("td",ze,[c(e("input",{"onUpdate:modelValue":t[20]||(t[20]=p=>s(o).commission_percentage=p),type:"number",step:"0.01",max:"100",class:"w-full border border-gray-300 rounded-md px-2 py-1 text-sm focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition"},null,512),[[m,s(o).commission_percentage]]),s(o).errors.commission_percentage?(n(),a("span",Be,d(s(o).errors.commission_percentage),1)):u("",!0)]),e("td",Je,[e("input",{type:"file",onChange:N,accept:"image/*",class:"text-sm text-gray-500 file:mr-4 file:py-1 file:px-3 file:rounded-md file:border-0 file:bg-purple-50 file:text-purple-700 file:hover:bg-purple-100"},null,32),s(o).errors.image?(n(),a("span",Qe,d(s(o).errors.image),1)):u("",!0)]),e("td",Re,[e("button",{onClick:p=>E(r.id),class:"px-3 py-1 bg-green-600 text-white rounded-md text-xs font-medium hover:bg-green-700 focus:ring-2 focus:ring-green-500 focus:ring-offset-2 transition"}," Save ",8,Ge),e("button",{onClick:t[21]||(t[21]=p=>w.value=null),class:"px-3 py-1 bg-gray-200 text-gray-700 rounded-md text-xs font-medium hover:bg-gray-300 focus:ring-2 focus:ring-gray-400 focus:ring-offset-2 transition"}," Cancel ")])],64))]))),128))])])])])])])]),V(C,{name:"modal"},{default:k(()=>[P.value?(n(),a("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50",onClick:A},[e("img",{src:P.value,class:"max-h-[90vh] max-w-[90vw] rounded-lg shadow-lg"},null,8,He)])):u("",!0)]),_:1})]),_:1}))}},et=K(Ke,[["__scopeId","data-v-b28e1d81"]]);export{et as default};
