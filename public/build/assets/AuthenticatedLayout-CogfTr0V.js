import{u as j,c as C,r as v,q as M,a as c,e,k as x,b as n,w as a,A as m,t as r,d as i,l,o as f,J as g,T as B,y as N,D as z}from"./app-DNboHIQE.js";const H={class:"min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-indigo-900 flex flex-col"},E={class:"hidden sm:flex flex-col w-64 bg-white/10 backdrop-blur-xl border-r border-white/20 shadow-2xl"},T={class:"flex flex-col p-4 space-y-2"},D={class:"w-8 h-8 mr-3 bg-gradient-to-br from-purple-400 to-purple-600 rounded-lg flex items-center justify-center relative"},V={key:0,class:"absolute -top-1 -right-1 bg-red-500 text-white text-[10px] leading-none rounded-full h-4 w-4 flex items-center justify-center"},S={class:"flex-1 min-h-[calc(100vh-4rem)] sm:min-h-screen bg-gradient-to-br from-white/95 via-blue-50/90 to-indigo-50/95 backdrop-blur-xl mx-2 sm:mx-4 mt-2 sm:mt-4 mb-2 sm:mb-0 rounded-2xl sm:rounded-3xl shadow-2xl border border-white/40 overflow-auto"},$={class:"h-full"},A={key:0,class:"mb-2 sm:mb-6"},O={key:0,class:"fixed top-1/2 right-0 z-50 flex items-center bg-gradient-to-br from-cyan-400/20 via-blue-500/15 to-indigo-600/20 backdrop-blur-xl shadow-2xl rounded-l-2xl px-3 py-2 border border-cyan-300/30",style:{transform:"translateY(-50%)"}},P={class:"font-medium text-blue-600 text-sm"},I={key:0,class:"sm:hidden fixed bottom-0 left-0 right-0 bg-gradient-to-br from-white/60 via-blue-50/50 to-indigo-50/50 backdrop-blur-xl border-t border-white/20 shadow-2xl z-10 rounded-t-2xl"},L={class:"flex justify-around items-center pb-[env(safe-area-inset-bottom)]"},R={class:"text-[10px] font-medium mt-0.5"},Y={class:"text-[10px] font-medium mt-0.5"},q={class:"text-[10px] font-medium mt-0.5"},F={class:"relative"},J={key:0,class:"absolute -top-1 -right-1 bg-red-500 text-white text-[8px] leading-none rounded-full h-3 w-3 flex items-center justify-center"},K={class:"text-[10px] font-medium mt-0.5"},U={class:"text-[10px] font-medium mt-0.5"},G={__name:"AuthenticatedLayout",props:{hideBottomNav:{type:Boolean,default:!1}},setup(w){const d=j(),b=C(()=>d.props.translations||{}),s=o=>b.value[o]||o,u=v(0),h=v(!1),p=v(null),k=async()=>{try{const o=await z.get("/chat/unread-count",{headers:{"X-CSRF-TOKEN":d.props.csrf_token}});u.value=o.data.count}catch(o){console.error("Error fetching unread count:",o)}};M(()=>{k(),window.Echo&&d.props.auth&&d.props.auth.user&&d.props.auth.user.id&&(window.Echo.private(`chat.${d.props.auth.user.id}`).listen("NewChatMessage",o=>{var t;((t=o==null?void 0:o.chat)==null?void 0:t.sender_id)!==d.props.auth.user.id&&(u.value++,window.location.pathname.startsWith("/chat")||(h.value=!0,new Audio("/notification.mp3").play().catch(_=>console.log("Audio play failed:",_)),p.value&&clearTimeout(p.value),p.value=setTimeout(()=>{h.value=!1},1e4)))}),window.addEventListener("chat:read",()=>{u.value=0,h.value=!1}),window.Echo.private(`chat.${d.props.auth.user.id}`).listen("ChatHistoryDeleted",o=>{console.log("ChatHistoryDeleted event received in layout:",o),o.userId===d.props.auth.user.id&&(console.log("Resetting unread count for user:",o.userId),u.value=0,h.value=!1)}))});const y=()=>{h.value=!1,window.route?window.location.href=window.route("chat.index"):window.location.href="/chat"};return(o,t)=>(f(),c("div",H,[e("div",{class:N(["flex flex-1",w.hideBottomNav?"":"pb-16 sm:pb-0"])},[e("aside",E,[e("nav",T,[n(i(l),{href:"/dashboard",class:"flex items-center px-4 py-3 text-white/90 hover:bg-white/10 hover:text-white rounded-xl transition-all duration-300 transform hover:scale-[1.02]"},{default:a(()=>[t[0]||(t[0]=e("div",{class:"w-8 h-8 mr-3 bg-gradient-to-br from-blue-400 to-blue-600 rounded-lg flex items-center justify-center"},[e("svg",{class:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-4 0H9"})])],-1)),m(" "+r(s("Home")),1)]),_:1}),n(i(l),{href:"/my-orders",class:"flex items-center px-4 py-3 text-white/90 hover:bg-white/10 hover:text-white rounded-xl transition-all duration-300 transform hover:scale-[1.02]"},{default:a(()=>[t[1]||(t[1]=e("div",{class:"w-8 h-8 mr-3 bg-gradient-to-br from-green-400 to-green-600 rounded-lg flex items-center justify-center"},[e("svg",{class:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})])],-1)),m(" "+r(s("Order")),1)]),_:1}),n(i(l),{href:"/deposit",class:"flex items-center px-4 py-3 text-white/90 hover:bg-white/10 hover:text-white rounded-xl transition-all duration-300 transform hover:scale-[1.02]"},{default:a(()=>[t[2]||(t[2]=e("div",{class:"w-8 h-8 mr-3 bg-gradient-to-br from-orange-400 to-orange-600 rounded-lg flex items-center justify-center"},[e("svg",{class:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})])],-1)),m(" "+r(s("Deposit")),1)]),_:1}),n(i(l),{href:o.route("chat.index"),class:"flex items-center px-4 py-3 text-white/90 hover:bg-white/10 hover:text-white rounded-xl transition-all duration-300 transform hover:scale-[1.02] relative"},{default:a(()=>[e("div",D,[t[3]||(t[3]=e("i",{class:"fas fa-headset text-white text-sm"},null,-1)),u.value>0?(f(),c("span",V,r(u.value),1)):x("",!0)]),m(" "+r(s("Support Chat")),1)]),_:1},8,["href"]),n(i(l),{href:o.route("profile.index"),class:"flex items-center px-4 py-3 text-white/90 hover:bg-white/10 hover:text-white rounded-xl transition-all duration-300 transform hover:scale-[1.02]"},{default:a(()=>[t[4]||(t[4]=e("div",{class:"w-8 h-8 mr-3 bg-gradient-to-br from-indigo-400 to-indigo-600 rounded-lg flex items-center justify-center"},[e("svg",{class:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})])],-1)),m(" "+r(s("Profile")),1)]),_:1},8,["href"])])]),e("main",S,[e("div",$,[o.$slots.header?(f(),c("div",A,[g(o.$slots,"header")])):x("",!0),g(o.$slots,"default")]),n(B,{name:"slide-right"},{default:a(()=>[h.value?(f(),c("div",O,[e("button",{onClick:y,class:"flex items-center space-x-2 focus:outline-none"},[t[5]||(t[5]=e("i",{class:"fas fa-bell text-blue-600 text-lg"},null,-1)),e("span",P,r(s("You have a message")),1)])])):x("",!0)]),_:1})]),w.hideBottomNav?x("",!0):(f(),c("nav",I,[e("div",L,[n(i(l),{href:"/dashboard",class:"flex flex-col items-center justify-center min-w-0 flex-1 py-1 px-1 text-black hover:text-gray-700 transition-colors duration-200"},{default:a(()=>[t[6]||(t[6]=e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-4 0H9"})],-1)),e("span",R,r(s("Home")),1)]),_:1}),n(i(l),{href:"/my-orders",class:"flex flex-col items-center justify-center min-w-0 flex-1 py-1 px-1 text-black hover:text-gray-700 transition-colors duration-200"},{default:a(()=>[t[7]||(t[7]=e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)),e("span",Y,r(s("Order")),1)]),_:1}),n(i(l),{href:"/deposit",class:"flex flex-col items-center justify-center min-w-0 flex-1 py-1 px-1 text-black hover:text-gray-700 transition-colors duration-200"},{default:a(()=>[t[8]||(t[8]=e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})],-1)),e("span",q,r(s("Deposit")),1)]),_:1}),n(i(l),{href:o.route("chat.index"),class:"flex flex-col items-center justify-center min-w-0 flex-1 py-1 px-1 text-black hover:text-gray-700 transition-colors duration-200 relative"},{default:a(()=>[e("div",F,[t[9]||(t[9]=e("i",{class:"fas fa-headset text-lg"},null,-1)),u.value>0?(f(),c("span",J,r(u.value),1)):x("",!0)]),e("span",K,r(s("Support")),1)]),_:1},8,["href"]),n(i(l),{href:o.route("profile.index"),class:"flex flex-col items-center justify-center min-w-0 flex-1 py-1 px-1 text-black hover:text-gray-700 transition-colors duration-200"},{default:a(()=>[t[10]||(t[10]=e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})],-1)),e("span",U,r(s("Profile")),1)]),_:1},8,["href"])])]))],2)]))}};export{G as _};
