import{u as F,c as Q,f as G,r as b,A as T,a,b as B,d as r,h as K,w as $,e,k as d,o as i,F as w,j as E,t as l,g as z,i as _,y as W,m as L,x as C}from"./app-DxfmXC0O.js";import{_ as J}from"./AdminLayout-B6Je0JR7.js";const Y={class:"bg-gradient-to-br from-cyan-400/20 via-blue-500/15 to-indigo-600/20 backdrop-blur-xl p-4 rounded-2xl shadow-2xl border border-cyan-300/30 h-full overflow-y-auto"},Z={key:0,class:"mb-6"},ee={class:"grid gap-3"},te={class:"flex items-center justify-between"},se={class:"flex items-center space-x-3"},oe=["src"],ne={key:1,class:"w-8 h-8 bg-gradient-to-r from-cyan-400 to-blue-500 rounded-full flex items-center justify-center text-white font-bold text-xs"},re={class:"font-medium text-slate-800"},ae={class:"text-sm text-slate-600"},ie={class:"text-xs text-slate-500 truncate max-w-[200px]"},le={class:"flex items-center space-x-2"},ce=["src"],de=["onClick"],ue=["onClick"],ge={key:1,class:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4"},me={class:"bg-gradient-to-br from-cyan-400/20 via-blue-500/15 to-indigo-600/20 backdrop-blur-xl p-6 rounded-2xl w-full max-w-md max-h-[80vh] overflow-y-auto shadow-2xl border border-white/20"},pe={class:"flex justify-between items-center mb-4"},be={class:"text-lg font-semibold text-white"},he=["value"],xe={key:0,class:"mt-1 text-xs text-red-600 bg-red-50/80 p-2 rounded border border-red-200"},fe={class:"flex gap-2"},ke=["disabled"],ve={key:0,class:"mt-1 text-xs text-red-600 bg-red-50/80 p-2 rounded border border-red-200"},ye={class:"text-xs text-white/70 mt-1"},we={key:0,class:"text-orange-600 font-medium"},_e={key:0,class:"mt-1 text-xs text-red-600 bg-red-50/80 p-2 rounded border border-red-200"},Ce={key:1,class:"mt-2"},De=["src"],Se={key:0,class:"mt-1 text-xs text-red-600 bg-red-50/80 p-2 rounded border border-red-200"},Ae={class:"flex space-x-2 pt-2"},Te=["disabled"],Be={key:2,class:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4"},Ee={class:"bg-gradient-to-br from-cyan-400/20 via-blue-500/15 to-indigo-600/20 backdrop-blur-xl p-6 rounded-2xl w-full max-w-sm shadow-2xl border border-white/20"},Le={class:"text-center"},Re={class:"text-white/80 mb-4"},Me={class:"flex space-x-2"},Ue=["disabled"],Ne={__name:"QRAddressUpload",props:{cryptoList:{type:Array,default:()=>[]},existingCryptos:{type:Array,default:()=>[]}},setup(f){const D=f,g=F(),{cryptoList:k}=D,R=[{id:"bitcoin",symbol:"BTC",name:"Bitcoin",image:"https://assets.coingecko.com/coins/images/1/large/bitcoin.png"},{id:"ethereum",symbol:"ETH",name:"Ethereum",image:"https://assets.coingecko.com/coins/images/279/large/ethereum.png"},{id:"tether",symbol:"USDT",name:"Tether",image:"https://assets.coingecko.com/coins/images/325/large/Tether.png"},{id:"binancecoin",symbol:"BNB",name:"Binance Coin",image:"https://assets.coingecko.com/coins/images/825/large/bnb-icon2_2x.png"},{id:"solana",symbol:"SOL",name:"Solana",image:"https://assets.coingecko.com/coins/images/4128/large/solana.png"},{id:"usd-coin",symbol:"USDC",name:"USD Coin",image:"https://assets.coingecko.com/coins/images/6319/large/USD_Coin_icon.png"},{id:"cardano",symbol:"ADA",name:"Cardano",image:"https://assets.coingecko.com/coins/images/975/large/cardano.png"},{id:"xrp",symbol:"XRP",name:"XRP",image:"https://assets.coingecko.com/coins/images/44/large/xrp-symbol-white-128.png"},{id:"polkadot",symbol:"DOT",name:"Polkadot",image:"https://assets.coingecko.com/coins/images/12171/large/polkadot.png"},{id:"dogecoin",symbol:"DOGE",name:"Dogecoin",image:"https://assets.coingecko.com/coins/images/5/large/dogecoin.png"},{id:"avalanche-2",symbol:"AVAX",name:"Avalanche",image:"https://assets.coingecko.com/coins/images/12559/large/coin-round-red.png"},{id:"shiba-inu",symbol:"SHIB",name:"Shiba Inu",image:"https://assets.coingecko.com/coins/images/11939/large/shiba.png"},{id:"chainlink",symbol:"LINK",name:"Chainlink",image:"https://assets.coingecko.com/coins/images/877/large/chainlink-new-logo.png"},{id:"matic-network",symbol:"MATIC",name:"Polygon",image:"https://assets.coingecko.com/coins/images/4713/large/matic-token-icon.png"},{id:"litecoin",symbol:"LTC",name:"Litecoin",image:"https://assets.coingecko.com/coins/images/2/large/litecoin.png"}],M=Q(()=>k&&k.length>=15?k:R),m={BTC:"Bitcoin",ETH:"ERC20",USDT:"TRC20",BNB:"BEP20",ADA:"Cardano",SOL:"Solana",DOT:"Polkadot",DOGE:"Dogecoin",AVAX:"Avalanche",LINK:"ERC20",USDC:"ERC20",XRP:"Ripple",SHIB:"ERC20",MATIC:"Polygon",LTC:"Litecoin"},t=G({qr_code:null,address:"",currency:"",network:"",_token:g.props.csrf_token}),c=b(null),p=b(!1),x=b(!1),h=b(null),v=b({}),u=b(!1),U={BTC:"https://assets.coingecko.com/coins/images/1/large/bitcoin.png",ETH:"https://assets.coingecko.com/coins/images/279/large/ethereum.png",USDT:"https://assets.coingecko.com/coins/images/325/large/Tether.png",BNB:"https://assets.coingecko.com/coins/images/825/large/bnb-icon2_2x.png",ADA:"https://assets.coingecko.com/coins/images/975/large/cardano.png",SOL:"https://assets.coingecko.com/coins/images/4128/large/solana.png",DOT:"https://assets.coingecko.com/coins/images/12171/large/polkadot.png",DOGE:"https://assets.coingecko.com/coins/images/5/large/dogecoin.png",AVAX:"https://assets.coingecko.com/coins/images/12559/large/coin-round-red.png",LINK:"https://assets.coingecko.com/coins/images/877/large/chainlink-new-logo.png",USDC:"https://assets.coingecko.com/coins/images/6319/large/USD_Coin_icon.png",XRP:"https://assets.coingecko.com/coins/images/44/large/xrp-symbol-white-128.png",SHIB:"https://assets.coingecko.com/coins/images/11939/large/shiba.png",MATIC:"https://assets.coingecko.com/coins/images/4713/large/matic-token-icon.png",LTC:"https://assets.coingecko.com/coins/images/2/large/litecoin.png"},y=s=>{var o;return v.value[s]||(v.value[s]={image:U[s]}),(o=v.value[s])==null?void 0:o.image};T(()=>t.currency,s=>{s&&m[s]&&(u.value||(t.network=m[s]))}),T(()=>t.network,s=>{s&&s!==m[t.currency]&&(u.value=!0)});const q=()=>{t.currency&&m[t.currency]&&(t.network=m[t.currency],u.value=!1)},I=s=>{t.qr_code=s.target.files[0]},N=()=>{t._token=g.props.csrf_token,c.value?t.transform(s=>({...s,_method:"PUT"})).post(route("admin.qr-address-upload.update",c.value.id),{preserveState:!0,preserveScroll:!0,onSuccess:()=>{t.reset(),t._token=g.props.csrf_token,c.value=null,p.value=!1,u.value=!1},onError:s=>{s&&s.message&&s.message.includes("419")&&window.location.reload()}}):t.post(route("admin.qr-address-upload.store"),{preserveState:!0,preserveScroll:!0,onSuccess:()=>{t.reset(),t._token=g.props.csrf_token,c.value=null,p.value=!1,u.value=!1},onError:s=>{s&&s.message&&s.message.includes("419")&&window.location.reload()}})},P=s=>{c.value=s,t.currency=s.currency,t.network=s.network,t.address=s.address,t.qr_code=null,p.value=!0,s.network!==m[s.currency]&&(u.value=!0)},j=s=>{h.value=s,x.value=!0},V=()=>{t._token=g.props.csrf_token,t.delete(route("admin.qr-address-upload.destroy",h.value.id),{preserveState:!0,preserveScroll:!0,onSuccess:()=>{x.value=!1,h.value=null},onError:s=>{s&&s.message&&s.message.includes("419")&&window.location.reload()}})},O=()=>{x.value=!1,h.value=null},H=()=>{c.value=null,t.reset(),t._token=g.props.csrf_token,u.value=!1,p.value=!0};D.existingCryptos.forEach(s=>{y(s.currency)});const S=()=>{c.value=null,t.reset(),t._token=g.props.csrf_token,u.value=!1,p.value=!1};return(s,o)=>(i(),a(w,null,[B(r(K),{title:"Crypto Management"}),B(J,null,{default:$(()=>{var A;return[e("div",Y,[e("div",{class:"flex justify-between items-center mb-4"},[o[3]||(o[3]=e("h1",{class:"text-lg font-bold text-slate-800 drop-shadow-sm"},"Crypto Management",-1)),e("button",{onClick:H,class:"px-4 py-2 bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white rounded-lg text-sm font-medium transition-all duration-300 transform hover:scale-[1.02] shadow-lg"}," Add Crypto ")]),f.existingCryptos.length>0?(i(),a("div",Z,[o[4]||(o[4]=e("h2",{class:"text-md font-semibold text-slate-700 mb-3"},"Active Cryptocurrencies",-1)),e("div",ee,[(i(!0),a(w,null,E(f.existingCryptos,n=>(i(),a("div",{key:n.id,class:"bg-white/50 backdrop-blur-sm p-4 rounded-xl border border-white/30 shadow-lg"},[e("div",te,[e("div",se,[y(n.currency)?(i(),a("img",{key:0,src:y(n.currency),alt:"Crypto Logo",class:"w-8 h-8 rounded-full"},null,8,oe)):(i(),a("div",ne,l(n.currency.substring(0,2)),1)),e("div",null,[e("div",re,l(n.currency),1),e("div",ae,l(n.network),1),e("div",ie,l(n.address),1)])]),e("div",le,[n.qr_code?(i(),a("img",{key:0,src:"/storage/"+n.qr_code,alt:"QR",class:"w-8 h-8 rounded"},null,8,ce)):d("",!0),e("button",{onClick:X=>P(n),class:"px-3 py-1 bg-blue-500 hover:bg-blue-600 text-white rounded text-xs transition-colors"}," Edit ",8,de),e("button",{onClick:X=>j(n),class:"px-3 py-1 bg-red-500 hover:bg-red-600 text-white rounded text-xs transition-colors"}," Delete ",8,ue)])])]))),128))])])):d("",!0),p.value?(i(),a("div",ge,[e("div",me,[e("div",pe,[e("h2",be,l(c.value?"Edit":"Add")+" Cryptocurrency",1),e("button",{onClick:S,class:"text-slate-400 hover:text-slate-600 transition-colors"},[...o[5]||(o[5]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),e("form",{onSubmit:z(N,["prevent"]),enctype:"multipart/form-data",class:"space-y-4"},[e("div",null,[o[6]||(o[6]=e("label",{for:"currency",class:"block text-sm font-medium text-white mb-2 drop-shadow-sm"},"Cryptocurrency",-1)),_(e("select",{"onUpdate:modelValue":o[0]||(o[0]=n=>r(t).currency=n),id:"currency",class:"block w-full h-12 rounded-xl bg-white/50 border-0 focus:ring-2 focus:ring-cyan-400 text-slate-900 px-4 backdrop-blur-sm shadow-lg"},[(i(!0),a(w,null,E(M.value,n=>(i(),a("option",{key:n.id,value:n.symbol},l(n.name)+" ("+l(n.symbol)+") ",9,he))),128))],512),[[W,r(t).currency]]),r(t).errors.currency?(i(),a("div",xe,l(r(t).errors.currency),1)):d("",!0)]),e("div",null,[o[8]||(o[8]=e("label",{for:"network",class:"block text-sm font-medium text-white mb-2 drop-shadow-sm"},"Network",-1)),e("div",fe,[_(e("input",{"onUpdate:modelValue":o[1]||(o[1]=n=>r(t).network=n),type:"text",id:"network",placeholder:"e.g., TRC20, ERC20, BEP20, Bitcoin",class:"flex-1 h-12 rounded-xl bg-white/50 border-0 focus:ring-2 focus:ring-cyan-400 text-slate-900 px-4 placeholder-slate-400 backdrop-blur-sm shadow-lg"},null,512),[[L,r(t).network]]),e("button",{type:"button",onClick:q,class:"px-4 py-2 bg-gradient-to-r from-white/60 to-white/40 hover:from-white/70 hover:to-white/50 text-slate-700 rounded-xl text-sm font-medium transition-all duration-200 shadow-lg backdrop-blur-sm border border-white/30",disabled:!r(t).currency,title:"Reset to default network for selected cryptocurrency"}," Reset ",8,ke)]),r(t).errors.network?(i(),a("div",ve,l(r(t).errors.network),1)):d("",!0),e("p",ye,[o[7]||(o[7]=C(' Network auto-updates when you select a currency. Use "Reset" to restore the default network. ',-1)),u.value?(i(),a("span",we,"(Modified)")):d("",!0)])]),e("div",null,[o[9]||(o[9]=e("label",{for:"qr_code",class:"block text-sm font-medium text-white mb-2 drop-shadow-sm"},"QR Code Image",-1)),e("input",{type:"file",id:"qr_code",accept:"image/png, image/jpeg, image/jpg",onChange:I,class:"block w-full h-12 rounded-xl bg-white/50 border-0 focus:ring-2 focus:ring-cyan-400 text-slate-900 px-4 backdrop-blur-sm shadow-lg file:mr-4 file:py-2 file:px-4 file:rounded-xl file:border-0 file:bg-cyan-50 file:text-cyan-700 hover:file:bg-cyan-100"},null,32),r(t).errors.qr_code?(i(),a("div",_e,l(r(t).errors.qr_code),1)):d("",!0),c.value&&c.value.qr_code?(i(),a("div",Ce,[e("img",{src:"/storage/"+c.value.qr_code,alt:"Current QR Code",class:"w-32 h-32 rounded-xl shadow-lg"},null,8,De)])):d("",!0)]),e("div",null,[o[10]||(o[10]=e("label",{for:"address",class:"block text-sm font-medium text-white mb-2 drop-shadow-sm"},"Wallet Address",-1)),_(e("input",{"onUpdate:modelValue":o[2]||(o[2]=n=>r(t).address=n),type:"text",id:"address",class:"block w-full h-12 rounded-xl bg-white/50 border-0 focus:ring-2 focus:ring-cyan-400 text-slate-900 px-4 placeholder-slate-400 backdrop-blur-sm shadow-lg"},null,512),[[L,r(t).address]]),r(t).errors.address?(i(),a("div",Se,l(r(t).errors.address),1)):d("",!0)]),e("div",Ae,[e("button",{type:"submit",class:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white rounded-lg text-sm font-medium transition-all duration-300 shadow-lg",disabled:r(t).processing},l(r(t).processing?"Processing...":c.value?"Update":"Add"),9,Te),e("button",{type:"button",onClick:S,class:"px-4 py-2 bg-gray-500 hover:bg-gray-600 text-white rounded-lg text-sm font-medium transition-colors"}," Cancel ")])],32)])])):d("",!0),x.value?(i(),a("div",Be,[e("div",Ee,[e("div",Le,[o[13]||(o[13]=e("div",{class:"w-12 h-12 mx-auto mb-4 bg-red-100 rounded-full flex items-center justify-center"},[e("svg",{class:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})])],-1)),o[14]||(o[14]=e("h3",{class:"text-lg font-semibold text-white mb-2"},"Delete Cryptocurrency",-1)),e("p",Re,[o[11]||(o[11]=C("Are you sure you want to delete ",-1)),e("strong",null,l((A=h.value)==null?void 0:A.currency),1),o[12]||(o[12]=C("? This action cannot be undone.",-1))]),e("div",Me,[e("button",{onClick:O,class:"flex-1 px-4 py-2 bg-gray-500 hover:bg-gray-600 text-white rounded-lg text-sm font-medium transition-colors"}," Cancel "),e("button",{onClick:V,class:"flex-1 px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg text-sm font-medium transition-colors",disabled:r(t).processing},l(r(t).processing?"Deleting...":"Delete"),9,Ue)])])])])):d("",!0)])]}),_:1})],64))}};export{Ne as default};
