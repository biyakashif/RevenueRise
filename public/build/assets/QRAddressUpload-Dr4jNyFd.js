import{u as Q,c as $,f as z,r as x,A as E,a as i,b as L,d as l,h as G,w as K,e,m,o as r,F as A,k as R,t as a,y as T,i as J,j as f,z as W,n as k}from"./app-Dx7yjGw8.js";import{_ as Y}from"./AdminLayout-bi8n3Wcl.js";const Z={class:"bg-gradient-to-br from-cyan-400/20 via-blue-500/15 to-indigo-600/20 backdrop-blur-xl p-4 rounded-2xl shadow-2xl border border-cyan-300/30 h-full overflow-y-auto"},ee={key:0,class:"mb-6"},te={class:"grid gap-3"},se={class:"flex items-center justify-between"},oe={class:"flex items-center space-x-3"},ne=["src"],le={key:1,class:"w-8 h-8 bg-gradient-to-r from-cyan-400 to-blue-500 rounded-full flex items-center justify-center text-white font-bold text-xs"},ie={class:"font-medium text-slate-800 flex items-center"},re={key:0,class:"ml-2 px-2 py-0.5 bg-cyan-100 text-cyan-700 rounded text-xs font-medium"},ae={key:0,class:"text-sm text-slate-600"},de={class:"text-xs text-slate-500 truncate max-w-[200px]"},ce={class:"flex items-center space-x-2"},ue=["src"],ge=["onClick"],me=["onClick"],pe={key:1,class:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4"},be={class:"bg-gradient-to-br from-cyan-400/20 via-blue-500/15 to-indigo-600/20 backdrop-blur-xl p-6 rounded-2xl w-full max-w-md max-h-[80vh] overflow-y-auto shadow-2xl border border-white/20"},xe={class:"flex justify-between items-center mb-4"},fe={class:"text-lg font-semibold text-white"},he=["value"],ke={key:0,class:"mt-1 text-xs text-red-600 bg-red-50/80 p-2 rounded border border-red-200"},ye={key:0,class:"space-y-4"},ve={class:"bg-white/20 p-4 rounded-xl"},we={class:"space-y-3"},Ce={class:"bg-white/20 p-4 rounded-xl"},_e={class:"space-y-3"},De={class:"bg-white/20 p-4 rounded-xl"},Se={class:"space-y-3"},Ae={key:1},Te={class:"flex gap-2"},Ue=["disabled"],Be={class:"flex space-x-2 pt-2"},Ee=["disabled"],Le={key:2,class:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4"},Re={class:"bg-gradient-to-br from-cyan-400/20 via-blue-500/15 to-indigo-600/20 backdrop-blur-xl p-6 rounded-2xl w-full max-w-sm shadow-2xl border border-white/20"},Me={class:"text-center"},Ne={class:"text-white/80 mb-4"},qe={class:"flex space-x-2"},Ve=["disabled"],je={__name:"QRAddressUpload",props:{cryptoList:{type:Array,default:()=>[]},existingCryptos:{type:Array,default:()=>[]}},setup(w){const C=w,u=Q(),{cryptoList:_}=C,M=[{id:"bitcoin",symbol:"BTC",name:"Bitcoin",image:"https://assets.coingecko.com/coins/images/1/large/bitcoin.png"},{id:"ethereum",symbol:"ETH",name:"Ethereum",image:"https://assets.coingecko.com/coins/images/279/large/ethereum.png"},{id:"tether",symbol:"USDT",name:"Tether",image:"https://assets.coingecko.com/coins/images/325/large/Tether.png"},{id:"binancecoin",symbol:"BNB",name:"Binance Coin",image:"https://assets.coingecko.com/coins/images/825/large/bnb-icon2_2x.png"},{id:"solana",symbol:"SOL",name:"Solana",image:"https://assets.coingecko.com/coins/images/4128/large/solana.png"},{id:"usd-coin",symbol:"USDC",name:"USD Coin",image:"https://assets.coingecko.com/coins/images/6319/large/USD_Coin_icon.png"},{id:"cardano",symbol:"ADA",name:"Cardano",image:"https://assets.coingecko.com/coins/images/975/large/cardano.png"},{id:"xrp",symbol:"XRP",name:"XRP",image:"https://assets.coingecko.com/coins/images/44/large/xrp-symbol-white-128.png"},{id:"polkadot",symbol:"DOT",name:"Polkadot",image:"https://assets.coingecko.com/coins/images/12171/large/polkadot.png"},{id:"dogecoin",symbol:"DOGE",name:"Dogecoin",image:"https://assets.coingecko.com/coins/images/5/large/dogecoin.png"},{id:"avalanche-2",symbol:"AVAX",name:"Avalanche",image:"https://assets.coingecko.com/coins/images/12559/large/coin-round-red.png"},{id:"shiba-inu",symbol:"SHIB",name:"Shiba Inu",image:"https://assets.coingecko.com/coins/images/11939/large/shiba.png"},{id:"chainlink",symbol:"LINK",name:"Chainlink",image:"https://assets.coingecko.com/coins/images/877/large/chainlink-new-logo.png"},{id:"matic-network",symbol:"MATIC",name:"Polygon",image:"https://assets.coingecko.com/coins/images/4713/large/matic-token-icon.png"},{id:"litecoin",symbol:"LTC",name:"Litecoin",image:"https://assets.coingecko.com/coins/images/2/large/litecoin.png"}],N=$(()=>_&&_.length>=15?_:M),p={BTC:"Bitcoin",ETH:"ERC20",USDT:"TRC20",BNB:"BEP20",ADA:"Cardano",SOL:"Solana",DOT:"Polkadot",DOGE:"Dogecoin",AVAX:"Avalanche",LINK:"ERC20",USDC:"ERC20",XRP:"Ripple",SHIB:"ERC20",MATIC:"Polygon",LTC:"Litecoin"},U=["USDT","USDC"],s=z({currency:"",trc20_qr_code:null,trc20_address:"",erc20_qr_code:null,erc20_address:"",bep20_qr_code:null,bep20_address:"",qr_code:null,address:"",network:"",_token:u.props.csrf_token}),d=x(null),b=x(!1),y=x(!1),h=x(null),D=x({}),c=x(!1),q={BTC:"https://assets.coingecko.com/coins/images/1/large/bitcoin.png",ETH:"https://assets.coingecko.com/coins/images/279/large/ethereum.png",USDT:"https://assets.coingecko.com/coins/images/325/large/Tether.png",BNB:"https://assets.coingecko.com/coins/images/825/large/bnb-icon2_2x.png",ADA:"https://assets.coingecko.com/coins/images/975/large/cardano.png",SOL:"https://assets.coingecko.com/coins/images/4128/large/solana.png",DOT:"https://assets.coingecko.com/coins/images/12171/large/polkadot.png",DOGE:"https://assets.coingecko.com/coins/images/5/large/dogecoin.png",AVAX:"https://assets.coingecko.com/coins/images/12559/large/coin-round-red.png",LINK:"https://assets.coingecko.com/coins/images/877/large/chainlink-new-logo.png",USDC:"https://assets.coingecko.com/coins/images/6319/large/USD_Coin_icon.png",XRP:"https://assets.coingecko.com/coins/images/44/large/xrp-symbol-white-128.png",SHIB:"https://assets.coingecko.com/coins/images/11939/large/shiba.png",MATIC:"https://assets.coingecko.com/coins/images/4713/large/matic-token-icon.png",LTC:"https://assets.coingecko.com/coins/images/2/large/litecoin.png"},S=n=>{var t;return D.value[n]||(D.value[n]={image:q[n]}),(t=D.value[n])==null?void 0:t.image};E(()=>s.currency,n=>{n&&p[n]&&(c.value||(s.network=p[n]))}),E(()=>s.network,n=>{n&&n!==p[s.currency]&&(c.value=!0)});const V=()=>{s.currency&&p[s.currency]&&(s.network=p[s.currency],c.value=!1)},v=(n,t)=>{s[t]=n.target.files[0]},P=()=>{s._token=u.props.csrf_token;const n=d.value?route("admin.qr-address-upload.update",d.value.id):route("admin.qr-address-upload.store");d.value?s.transform(t=>({...t,_method:"PUT"})).post(n,{preserveState:!0,preserveScroll:!0,onSuccess:()=>{s.reset(),s._token=u.props.csrf_token,d.value=null,b.value=!1,c.value=!1}}):s.post(n,{preserveState:!0,preserveScroll:!0,onSuccess:()=>{s.reset(),s._token=u.props.csrf_token,d.value=null,b.value=!1,c.value=!1}})},I=n=>{s.currency=n.currency,U.includes(n.currency)?(d.value=null,C.existingCryptos.filter(g=>g.currency===n.currency).forEach(g=>{const o=g.network.toLowerCase();s[`${o}_address`]=g.address})):(d.value=n,s.network=n.network,s.address=n.address,n.network!==p[n.currency]&&(c.value=!0)),b.value=!0},j=n=>{h.value=n,y.value=!0},O=()=>{s._token=u.props.csrf_token,s.delete(route("admin.qr-address-upload.destroy",h.value.id),{preserveState:!0,preserveScroll:!0,onSuccess:()=>{y.value=!1,h.value=null},onError:n=>{n&&n.message&&n.message.includes("419")&&window.location.reload()}})},F=()=>{y.value=!1,h.value=null},H=()=>{d.value=null,s.reset(),s._token=u.props.csrf_token,c.value=!1,b.value=!0};C.existingCryptos.forEach(n=>{S(n.currency)});const B=()=>{d.value=null,s.reset(),s._token=u.props.csrf_token,c.value=!1,b.value=!1};return(n,t)=>(r(),i(A,null,[L(l(G),{title:"Crypto Management"}),L(Y,null,{default:K(()=>{var g;return[e("div",Z,[e("div",{class:"flex justify-between items-center mb-4"},[t[10]||(t[10]=e("h1",{class:"text-lg font-bold text-slate-800 drop-shadow-sm"},"Crypto Management",-1)),e("button",{onClick:H,class:"px-4 py-2 bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white rounded-lg text-sm font-medium transition-all duration-300 transform hover:scale-[1.02] shadow-lg"}," Add Crypto ")]),w.existingCryptos.length>0?(r(),i("div",ee,[t[11]||(t[11]=e("h2",{class:"text-md font-semibold text-slate-700 mb-3"},"Active Cryptocurrencies",-1)),e("div",te,[(r(!0),i(A,null,R(w.existingCryptos,o=>(r(),i("div",{key:o.id,class:"bg-white/50 backdrop-blur-sm p-4 rounded-xl border border-white/30 shadow-lg"},[e("div",se,[e("div",oe,[S(o.currency)?(r(),i("img",{key:0,src:S(o.currency),alt:"Crypto Logo",class:"w-8 h-8 rounded-full"},null,8,ne)):(r(),i("div",le,a(o.currency.substring(0,2)),1)),e("div",null,[e("div",ie,[T(a(o.currency)+" ",1),o.currency==="USDT"||o.currency==="USDC"?(r(),i("span",re,a(o.network),1)):m("",!0)]),o.currency!=="USDT"&&o.currency!=="USDC"?(r(),i("div",ae,a(o.network),1)):m("",!0),e("div",de,a(o.address),1)])]),e("div",ce,[o.qr_code?(r(),i("img",{key:0,src:"/storage/"+o.qr_code,alt:"QR",class:"w-8 h-8 rounded"},null,8,ue)):m("",!0),e("button",{onClick:X=>I(o),class:"px-3 py-1 bg-blue-500 hover:bg-blue-600 text-white rounded text-xs transition-colors"}," Edit ",8,ge),e("button",{onClick:X=>j(o),class:"px-3 py-1 bg-red-500 hover:bg-red-600 text-white rounded text-xs transition-colors"}," Delete ",8,me)])])]))),128))])])):m("",!0),b.value?(r(),i("div",pe,[e("div",be,[e("div",xe,[e("h2",fe,a(d.value?"Edit":"Add")+" Cryptocurrency",1),e("button",{onClick:B,class:"text-slate-400 hover:text-slate-600 transition-colors"},[...t[12]||(t[12]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),e("form",{onSubmit:J(P,["prevent"]),enctype:"multipart/form-data",class:"space-y-4"},[e("div",null,[t[13]||(t[13]=e("label",{for:"currency",class:"block text-sm font-medium text-white mb-2 drop-shadow-sm"},"Cryptocurrency",-1)),f(e("select",{"onUpdate:modelValue":t[0]||(t[0]=o=>l(s).currency=o),id:"currency",class:"block w-full h-12 rounded-xl bg-white/50 border-0 focus:ring-2 focus:ring-cyan-400 text-slate-900 px-4 backdrop-blur-sm shadow-lg"},[(r(!0),i(A,null,R(N.value,o=>(r(),i("option",{key:o.id,value:o.symbol},a(o.name)+" ("+a(o.symbol)+") ",9,he))),128))],512),[[W,l(s).currency]]),l(s).errors.currency?(r(),i("div",ke,a(l(s).errors.currency),1)):m("",!0)]),U.includes(l(s).currency)?(r(),i("div",ye,[e("div",ve,[t[16]||(t[16]=e("h3",{class:"text-white font-semibold mb-3"},"TRC20 Network",-1)),e("div",we,[e("div",null,[t[14]||(t[14]=e("label",{class:"block text-sm text-white mb-1"},"QR Code",-1)),e("input",{type:"file",accept:"image/*",onChange:t[1]||(t[1]=o=>v(o,"trc20_qr_code")),class:"block w-full h-10 rounded-lg bg-white/50 border-0 text-slate-900 px-3 file:mr-2 file:py-1 file:px-3 file:rounded file:border-0 file:text-xs file:bg-cyan-50 file:text-cyan-700"},null,32)]),e("div",null,[t[15]||(t[15]=e("label",{class:"block text-sm text-white mb-1"},"Address",-1)),f(e("input",{"onUpdate:modelValue":t[2]||(t[2]=o=>l(s).trc20_address=o),type:"text",class:"block w-full h-10 rounded-lg bg-white/50 border-0 text-slate-900 px-3"},null,512),[[k,l(s).trc20_address]])])])]),e("div",Ce,[t[19]||(t[19]=e("h3",{class:"text-white font-semibold mb-3"},"ERC20 Network",-1)),e("div",_e,[e("div",null,[t[17]||(t[17]=e("label",{class:"block text-sm text-white mb-1"},"QR Code",-1)),e("input",{type:"file",accept:"image/*",onChange:t[3]||(t[3]=o=>v(o,"erc20_qr_code")),class:"block w-full h-10 rounded-lg bg-white/50 border-0 text-slate-900 px-3 file:mr-2 file:py-1 file:px-3 file:rounded file:border-0 file:text-xs file:bg-cyan-50 file:text-cyan-700"},null,32)]),e("div",null,[t[18]||(t[18]=e("label",{class:"block text-sm text-white mb-1"},"Address",-1)),f(e("input",{"onUpdate:modelValue":t[4]||(t[4]=o=>l(s).erc20_address=o),type:"text",class:"block w-full h-10 rounded-lg bg-white/50 border-0 text-slate-900 px-3"},null,512),[[k,l(s).erc20_address]])])])]),e("div",De,[t[22]||(t[22]=e("h3",{class:"text-white font-semibold mb-3"},"BEP20 Network",-1)),e("div",Se,[e("div",null,[t[20]||(t[20]=e("label",{class:"block text-sm text-white mb-1"},"QR Code",-1)),e("input",{type:"file",accept:"image/*",onChange:t[5]||(t[5]=o=>v(o,"bep20_qr_code")),class:"block w-full h-10 rounded-lg bg-white/50 border-0 text-slate-900 px-3 file:mr-2 file:py-1 file:px-3 file:rounded file:border-0 file:text-xs file:bg-cyan-50 file:text-cyan-700"},null,32)]),e("div",null,[t[21]||(t[21]=e("label",{class:"block text-sm text-white mb-1"},"Address",-1)),f(e("input",{"onUpdate:modelValue":t[6]||(t[6]=o=>l(s).bep20_address=o),type:"text",class:"block w-full h-10 rounded-lg bg-white/50 border-0 text-slate-900 px-3"},null,512),[[k,l(s).bep20_address]])])])])])):(r(),i("div",Ae,[e("div",null,[t[23]||(t[23]=e("label",{for:"network",class:"block text-sm font-medium text-white mb-2"},"Network",-1)),e("div",Te,[f(e("input",{"onUpdate:modelValue":t[7]||(t[7]=o=>l(s).network=o),type:"text",id:"network",placeholder:"e.g., Bitcoin, ERC20",class:"flex-1 h-12 rounded-xl bg-white/50 border-0 text-slate-900 px-4"},null,512),[[k,l(s).network]]),e("button",{type:"button",onClick:V,class:"px-4 py-2 bg-white/60 hover:bg-white/70 text-slate-700 rounded-xl text-sm",disabled:!l(s).currency},"Reset",8,Ue)])]),e("div",null,[t[24]||(t[24]=e("label",{for:"qr_code",class:"block text-sm font-medium text-white mb-2"},"QR Code",-1)),e("input",{type:"file",id:"qr_code",accept:"image/*",onChange:t[8]||(t[8]=o=>v(o,"qr_code")),class:"block w-full h-12 rounded-xl bg-white/50 border-0 text-slate-900 px-4 file:mr-4 file:py-2 file:px-4 file:rounded-xl file:border-0 file:bg-cyan-50 file:text-cyan-700"},null,32)]),e("div",null,[t[25]||(t[25]=e("label",{for:"address",class:"block text-sm font-medium text-white mb-2"},"Address",-1)),f(e("input",{"onUpdate:modelValue":t[9]||(t[9]=o=>l(s).address=o),type:"text",id:"address",class:"block w-full h-12 rounded-xl bg-white/50 border-0 text-slate-900 px-4"},null,512),[[k,l(s).address]])])])),e("div",Be,[e("button",{type:"submit",class:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white rounded-lg text-sm font-medium transition-all duration-300 shadow-lg",disabled:l(s).processing},a(l(s).processing?"Processing...":d.value?"Update":"Add"),9,Ee),e("button",{type:"button",onClick:B,class:"px-4 py-2 bg-gray-500 hover:bg-gray-600 text-white rounded-lg text-sm font-medium transition-colors"}," Cancel ")])],32)])])):m("",!0),y.value?(r(),i("div",Le,[e("div",Re,[e("div",Me,[t[28]||(t[28]=e("div",{class:"w-12 h-12 mx-auto mb-4 bg-red-100 rounded-full flex items-center justify-center"},[e("svg",{class:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})])],-1)),t[29]||(t[29]=e("h3",{class:"text-lg font-semibold text-white mb-2"},"Delete Cryptocurrency",-1)),e("p",Ne,[t[26]||(t[26]=T("Are you sure you want to delete ",-1)),e("strong",null,a((g=h.value)==null?void 0:g.currency),1),t[27]||(t[27]=T("? This action cannot be undone.",-1))]),e("div",qe,[e("button",{onClick:F,class:"flex-1 px-4 py-2 bg-gray-500 hover:bg-gray-600 text-white rounded-lg text-sm font-medium transition-colors"}," Cancel "),e("button",{onClick:O,class:"flex-1 px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg text-sm font-medium transition-colors",disabled:l(s).processing},a(l(s).processing?"Deleting...":"Delete"),9,Ve)])])])])):m("",!0)])]}),_:1})],64))}};export{je as default};
