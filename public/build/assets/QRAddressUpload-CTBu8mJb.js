import{c as X,f as F,r as p,z as A,a,b as T,d as n,h as Q,w as z,e,k as d,o as i,F as y,j as B,t as l,g as G,i as w,x as K,m as E,A as _}from"./app-CdvAI5iq.js";import{_ as $}from"./AdminLayout-DZFzOaKL.js";const W={class:"bg-gradient-to-br from-cyan-400/20 via-blue-500/15 to-indigo-600/20 backdrop-blur-xl p-4 rounded-2xl shadow-2xl border border-cyan-300/30 h-full overflow-y-auto"},J={key:0,class:"mb-6"},Y={class:"grid gap-3"},Z={class:"flex items-center justify-between"},ee={class:"flex items-center space-x-3"},te=["src"],se={key:1,class:"w-8 h-8 bg-gradient-to-r from-cyan-400 to-blue-500 rounded-full flex items-center justify-center text-white font-bold text-xs"},oe={class:"font-medium text-slate-800"},re={class:"text-sm text-slate-600"},ne={class:"text-xs text-slate-500 truncate max-w-[200px]"},ae={class:"flex items-center space-x-2"},ie=["src"],le=["onClick"],ce=["onClick"],de={key:1,class:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4"},ue={class:"bg-gradient-to-br from-cyan-400/20 via-blue-500/15 to-indigo-600/20 backdrop-blur-xl p-6 rounded-2xl w-full max-w-md max-h-[80vh] overflow-y-auto shadow-2xl border border-white/20"},ge={class:"flex justify-between items-center mb-4"},me={class:"text-lg font-semibold text-white"},pe=["value"],be={key:0,class:"mt-1 text-xs text-red-600 bg-red-50/80 p-2 rounded border border-red-200"},he={class:"flex gap-2"},xe=["disabled"],fe={key:0,class:"mt-1 text-xs text-red-600 bg-red-50/80 p-2 rounded border border-red-200"},ke={class:"text-xs text-white/70 mt-1"},ve={key:0,class:"text-orange-600 font-medium"},ye={key:0,class:"mt-1 text-xs text-red-600 bg-red-50/80 p-2 rounded border border-red-200"},we={key:1,class:"mt-2"},_e=["src"],Ce={key:0,class:"mt-1 text-xs text-red-600 bg-red-50/80 p-2 rounded border border-red-200"},De={class:"flex space-x-2 pt-2"},Se=["disabled"],Ae={key:2,class:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4"},Te={class:"bg-gradient-to-br from-cyan-400/20 via-blue-500/15 to-indigo-600/20 backdrop-blur-xl p-6 rounded-2xl w-full max-w-sm shadow-2xl border border-white/20"},Be={class:"text-center"},Ee={class:"text-white/80 mb-4"},Le={class:"flex space-x-2"},Re=["disabled"],qe={__name:"QRAddressUpload",props:{cryptoList:{type:Array,default:()=>[]},existingCryptos:{type:Array,default:()=>[]}},setup(x){const C=x,{cryptoList:f}=C,L=[{id:"bitcoin",symbol:"BTC",name:"Bitcoin",image:"https://assets.coingecko.com/coins/images/1/large/bitcoin.png"},{id:"ethereum",symbol:"ETH",name:"Ethereum",image:"https://assets.coingecko.com/coins/images/279/large/ethereum.png"},{id:"tether",symbol:"USDT",name:"Tether",image:"https://assets.coingecko.com/coins/images/325/large/Tether.png"},{id:"binancecoin",symbol:"BNB",name:"Binance Coin",image:"https://assets.coingecko.com/coins/images/825/large/bnb-icon2_2x.png"},{id:"solana",symbol:"SOL",name:"Solana",image:"https://assets.coingecko.com/coins/images/4128/large/solana.png"},{id:"usd-coin",symbol:"USDC",name:"USD Coin",image:"https://assets.coingecko.com/coins/images/6319/large/USD_Coin_icon.png"},{id:"cardano",symbol:"ADA",name:"Cardano",image:"https://assets.coingecko.com/coins/images/975/large/cardano.png"},{id:"xrp",symbol:"XRP",name:"XRP",image:"https://assets.coingecko.com/coins/images/44/large/xrp-symbol-white-128.png"},{id:"polkadot",symbol:"DOT",name:"Polkadot",image:"https://assets.coingecko.com/coins/images/12171/large/polkadot.png"},{id:"dogecoin",symbol:"DOGE",name:"Dogecoin",image:"https://assets.coingecko.com/coins/images/5/large/dogecoin.png"},{id:"avalanche-2",symbol:"AVAX",name:"Avalanche",image:"https://assets.coingecko.com/coins/images/12559/large/coin-round-red.png"},{id:"shiba-inu",symbol:"SHIB",name:"Shiba Inu",image:"https://assets.coingecko.com/coins/images/11939/large/shiba.png"},{id:"chainlink",symbol:"LINK",name:"Chainlink",image:"https://assets.coingecko.com/coins/images/877/large/chainlink-new-logo.png"},{id:"matic-network",symbol:"MATIC",name:"Polygon",image:"https://assets.coingecko.com/coins/images/4713/large/matic-token-icon.png"},{id:"litecoin",symbol:"LTC",name:"Litecoin",image:"https://assets.coingecko.com/coins/images/2/large/litecoin.png"}],R=X(()=>f&&f.length>=15?f:L),g={BTC:"Bitcoin",ETH:"ERC20",USDT:"TRC20",BNB:"BEP20",ADA:"Cardano",SOL:"Solana",DOT:"Polkadot",DOGE:"Dogecoin",AVAX:"Avalanche",LINK:"ERC20",USDC:"ERC20",XRP:"Ripple",SHIB:"ERC20",MATIC:"Polygon",LTC:"Litecoin"},t=F({qr_code:null,address:"",currency:"",network:""}),c=p(null),m=p(!1),h=p(!1),b=p(null),k=p({}),u=p(!1),M={BTC:"https://assets.coingecko.com/coins/images/1/large/bitcoin.png",ETH:"https://assets.coingecko.com/coins/images/279/large/ethereum.png",USDT:"https://assets.coingecko.com/coins/images/325/large/Tether.png",BNB:"https://assets.coingecko.com/coins/images/825/large/bnb-icon2_2x.png",ADA:"https://assets.coingecko.com/coins/images/975/large/cardano.png",SOL:"https://assets.coingecko.com/coins/images/4128/large/solana.png",DOT:"https://assets.coingecko.com/coins/images/12171/large/polkadot.png",DOGE:"https://assets.coingecko.com/coins/images/5/large/dogecoin.png",AVAX:"https://assets.coingecko.com/coins/images/12559/large/coin-round-red.png",LINK:"https://assets.coingecko.com/coins/images/877/large/chainlink-new-logo.png",USDC:"https://assets.coingecko.com/coins/images/6319/large/USD_Coin_icon.png",XRP:"https://assets.coingecko.com/coins/images/44/large/xrp-symbol-white-128.png",SHIB:"https://assets.coingecko.com/coins/images/11939/large/shiba.png",MATIC:"https://assets.coingecko.com/coins/images/4713/large/matic-token-icon.png",LTC:"https://assets.coingecko.com/coins/images/2/large/litecoin.png"},v=o=>{var s;return k.value[o]||(k.value[o]={image:M[o]}),(s=k.value[o])==null?void 0:s.image};A(()=>t.currency,o=>{o&&g[o]&&(u.value||(t.network=g[o]))}),A(()=>t.network,o=>{o&&o!==g[t.currency]&&(u.value=!0)});const U=()=>{t.currency&&g[t.currency]&&(t.network=g[t.currency],u.value=!1)},q=o=>{t.qr_code=o.target.files[0]},I=()=>{c.value?t.transform(o=>({...o,_method:"PUT"})).post(route("admin.qr-address-upload.update",c.value.id),{preserveState:!0,preserveScroll:!0,onSuccess:()=>{t.reset(),c.value=null,m.value=!1,u.value=!1},onError:o=>{}}):t.post(route("admin.qr-address-upload.store"),{preserveState:!0,preserveScroll:!0,onSuccess:()=>{t.reset(),c.value=null,m.value=!1,u.value=!1},onError:o=>{}})},N=o=>{c.value=o,t.currency=o.currency,t.network=o.network,t.address=o.address,t.qr_code=null,m.value=!0,o.network!==g[o.currency]&&(u.value=!0)},j=o=>{b.value=o,h.value=!0},P=()=>{t.delete(route("admin.qr-address-upload.destroy",b.value.id),{preserveState:!0,preserveScroll:!0,onSuccess:()=>{h.value=!1,b.value=null}})},V=()=>{h.value=!1,b.value=null},O=()=>{c.value=null,t.reset(),u.value=!1,m.value=!0};C.existingCryptos.forEach(o=>{v(o.currency)});const D=()=>{c.value=null,t.reset(),u.value=!1,m.value=!1};return(o,s)=>(i(),a(y,null,[T(n(Q),{title:"Crypto Management"}),T($,null,{default:z(()=>{var S;return[e("div",W,[e("div",{class:"flex justify-between items-center mb-4"},[s[3]||(s[3]=e("h1",{class:"text-lg font-bold text-slate-800 drop-shadow-sm"},"Crypto Management",-1)),e("button",{onClick:O,class:"px-4 py-2 bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white rounded-lg text-sm font-medium transition-all duration-300 transform hover:scale-[1.02] shadow-lg"}," Add Crypto ")]),x.existingCryptos.length>0?(i(),a("div",J,[s[4]||(s[4]=e("h2",{class:"text-md font-semibold text-slate-700 mb-3"},"Active Cryptocurrencies",-1)),e("div",Y,[(i(!0),a(y,null,B(x.existingCryptos,r=>(i(),a("div",{key:r.id,class:"bg-white/50 backdrop-blur-sm p-4 rounded-xl border border-white/30 shadow-lg"},[e("div",Z,[e("div",ee,[v(r.currency)?(i(),a("img",{key:0,src:v(r.currency),alt:"Crypto Logo",class:"w-8 h-8 rounded-full"},null,8,te)):(i(),a("div",se,l(r.currency.substring(0,2)),1)),e("div",null,[e("div",oe,l(r.currency),1),e("div",re,l(r.network),1),e("div",ne,l(r.address),1)])]),e("div",ae,[r.qr_code?(i(),a("img",{key:0,src:"/storage/"+r.qr_code,alt:"QR",class:"w-8 h-8 rounded"},null,8,ie)):d("",!0),e("button",{onClick:H=>N(r),class:"px-3 py-1 bg-blue-500 hover:bg-blue-600 text-white rounded text-xs transition-colors"}," Edit ",8,le),e("button",{onClick:H=>j(r),class:"px-3 py-1 bg-red-500 hover:bg-red-600 text-white rounded text-xs transition-colors"}," Delete ",8,ce)])])]))),128))])])):d("",!0),m.value?(i(),a("div",de,[e("div",ue,[e("div",ge,[e("h2",me,l(c.value?"Edit":"Add")+" Cryptocurrency",1),e("button",{onClick:D,class:"text-slate-400 hover:text-slate-600 transition-colors"},[...s[5]||(s[5]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),e("form",{onSubmit:G(I,["prevent"]),enctype:"multipart/form-data",class:"space-y-4"},[e("div",null,[s[6]||(s[6]=e("label",{for:"currency",class:"block text-sm font-medium text-white mb-2 drop-shadow-sm"},"Cryptocurrency",-1)),w(e("select",{"onUpdate:modelValue":s[0]||(s[0]=r=>n(t).currency=r),id:"currency",class:"block w-full h-12 rounded-xl bg-white/50 border-0 focus:ring-2 focus:ring-cyan-400 text-slate-900 px-4 backdrop-blur-sm shadow-lg"},[(i(!0),a(y,null,B(R.value,r=>(i(),a("option",{key:r.id,value:r.symbol},l(r.name)+" ("+l(r.symbol)+") ",9,pe))),128))],512),[[K,n(t).currency]]),n(t).errors.currency?(i(),a("div",be,l(n(t).errors.currency),1)):d("",!0)]),e("div",null,[s[8]||(s[8]=e("label",{for:"network",class:"block text-sm font-medium text-white mb-2 drop-shadow-sm"},"Network",-1)),e("div",he,[w(e("input",{"onUpdate:modelValue":s[1]||(s[1]=r=>n(t).network=r),type:"text",id:"network",placeholder:"e.g., TRC20, ERC20, BEP20, Bitcoin",class:"flex-1 h-12 rounded-xl bg-white/50 border-0 focus:ring-2 focus:ring-cyan-400 text-slate-900 px-4 placeholder-slate-400 backdrop-blur-sm shadow-lg"},null,512),[[E,n(t).network]]),e("button",{type:"button",onClick:U,class:"px-4 py-2 bg-gradient-to-r from-white/60 to-white/40 hover:from-white/70 hover:to-white/50 text-slate-700 rounded-xl text-sm font-medium transition-all duration-200 shadow-lg backdrop-blur-sm border border-white/30",disabled:!n(t).currency,title:"Reset to default network for selected cryptocurrency"}," Reset ",8,xe)]),n(t).errors.network?(i(),a("div",fe,l(n(t).errors.network),1)):d("",!0),e("p",ke,[s[7]||(s[7]=_(' Network auto-updates when you select a currency. Use "Reset" to restore the default network. ',-1)),u.value?(i(),a("span",ve,"(Modified)")):d("",!0)])]),e("div",null,[s[9]||(s[9]=e("label",{for:"qr_code",class:"block text-sm font-medium text-white mb-2 drop-shadow-sm"},"QR Code Image",-1)),e("input",{type:"file",id:"qr_code",accept:"image/png, image/jpeg, image/jpg",onChange:q,class:"block w-full h-12 rounded-xl bg-white/50 border-0 focus:ring-2 focus:ring-cyan-400 text-slate-900 px-4 backdrop-blur-sm shadow-lg file:mr-4 file:py-2 file:px-4 file:rounded-xl file:border-0 file:bg-cyan-50 file:text-cyan-700 hover:file:bg-cyan-100"},null,32),n(t).errors.qr_code?(i(),a("div",ye,l(n(t).errors.qr_code),1)):d("",!0),c.value&&c.value.qr_code?(i(),a("div",we,[e("img",{src:"/storage/"+c.value.qr_code,alt:"Current QR Code",class:"w-32 h-32 rounded-xl shadow-lg"},null,8,_e)])):d("",!0)]),e("div",null,[s[10]||(s[10]=e("label",{for:"address",class:"block text-sm font-medium text-white mb-2 drop-shadow-sm"},"Wallet Address",-1)),w(e("input",{"onUpdate:modelValue":s[2]||(s[2]=r=>n(t).address=r),type:"text",id:"address",class:"block w-full h-12 rounded-xl bg-white/50 border-0 focus:ring-2 focus:ring-cyan-400 text-slate-900 px-4 placeholder-slate-400 backdrop-blur-sm shadow-lg"},null,512),[[E,n(t).address]]),n(t).errors.address?(i(),a("div",Ce,l(n(t).errors.address),1)):d("",!0)]),e("div",De,[e("button",{type:"submit",class:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white rounded-lg text-sm font-medium transition-all duration-300 shadow-lg",disabled:n(t).processing},l(n(t).processing?"Processing...":c.value?"Update":"Add"),9,Se),e("button",{type:"button",onClick:D,class:"px-4 py-2 bg-gray-500 hover:bg-gray-600 text-white rounded-lg text-sm font-medium transition-colors"}," Cancel ")])],32)])])):d("",!0),h.value?(i(),a("div",Ae,[e("div",Te,[e("div",Be,[s[13]||(s[13]=e("div",{class:"w-12 h-12 mx-auto mb-4 bg-red-100 rounded-full flex items-center justify-center"},[e("svg",{class:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})])],-1)),s[14]||(s[14]=e("h3",{class:"text-lg font-semibold text-white mb-2"},"Delete Cryptocurrency",-1)),e("p",Ee,[s[11]||(s[11]=_("Are you sure you want to delete ",-1)),e("strong",null,l((S=b.value)==null?void 0:S.currency),1),s[12]||(s[12]=_("? This action cannot be undone.",-1))]),e("div",Le,[e("button",{onClick:V,class:"flex-1 px-4 py-2 bg-gray-500 hover:bg-gray-600 text-white rounded-lg text-sm font-medium transition-colors"}," Cancel "),e("button",{onClick:P,class:"flex-1 px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg text-sm font-medium transition-colors",disabled:n(t).processing},l(n(t).processing?"Deleting...":"Delete"),9,Re)])])])])):d("",!0)])]}),_:1})],64))}};export{qe as default};
